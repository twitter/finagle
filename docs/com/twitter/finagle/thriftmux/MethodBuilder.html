<!DOCTYPE html ><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><title></title><meta content="" name="description"/><meta content="" name="keywords"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link href="../../../../lib/index.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../lib/print.css" media="print" type="text/css" rel="stylesheet"/><link href="../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css"/><script type="text/javascript" src="../../../../lib/jquery.min.js"></script><script type="text/javascript" src="../../../../lib/index.js"></script><script type="text/javascript" src="../../../../index.js"></script><script type="text/javascript" src="../../../../lib/scheduler.js"></script><script type="text/javascript" src="../../../../lib/template.js"></script><script type="text/javascript">/* this variable can be used by the JS to determine the path to the root document */
var toRoot = '../../../../';</script></head><body><div id="search"><span id="doc-title"><span id="doc-version"></span></span> <span class="close-results"><span class="left">&lt;</span> Back</span><div id="textfilter"><span class="input"><input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/"/><i class="clear material-icons"></i><i id="search-icon" class="material-icons"></i></span></div></div><div id="search-results"><div id="search-progress"><div id="progress-fill"></div></div><div id="results-content"><div id="entity-results"></div><div id="member-results"></div></div></div><div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;"><div id="content-container" style="-webkit-overflow-scrolling: touch;"><div id="subpackage-spacer"><div id="packages"><h1>Packages</h1><ul><li class="indented0 " name="_root_.root" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="_root_" class="anchorToMember"></a><a id="root:_root_" class="anchorToMember"></a> <span class="permalink"><a href="../../../../index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../index.html" title=""><span class="name">root</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented1 " name="_root_.com" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="com" class="anchorToMember"></a><a id="com:com" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../index.html" title=""><span class="name">com</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented2 " name="com.twitter" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="twitter" class="anchorToMember"></a><a id="twitter:twitter" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../index.html" title="Start with com.twitter.finagle."><span class="name">twitter</span></a></span><p class="shortcomment cmt">Start with <a href="../index.html" name="com.twitter.finagle" id="com.twitter.finagle" class="extype">com.twitter.finagle</a>.</p><div class="fullcomment"><div class="comment cmt"><p>Start with <a href="../index.html" name="com.twitter.finagle" id="com.twitter.finagle" class="extype">com.twitter.finagle</a>.</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="com" id="com" class="extype">com</a></dd></dl></div></li><li class="indented3 " name="com.twitter.finagle" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="finagle" class="anchorToMember"></a><a id="finagle:finagle" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../index.html" title="Finagle is an extensible RPC system."><span class="name">finagle</span></a></span><p class="shortcomment cmt">Finagle is an extensible RPC system.</p><div class="fullcomment"><div class="comment cmt"><p>Finagle is an extensible RPC system.</p><p>Services are represented by class <a href="../Service.html" name="com.twitter.finagle.Service" id="com.twitter.finagle.Service" class="extype">com.twitter.finagle.Service</a>. Clients make use of
<a href="../Service.html" name="com.twitter.finagle.Service" id="com.twitter.finagle.Service" class="extype">com.twitter.finagle.Service</a> objects while servers implement them.</p><p>Finagle contains a number of protocol implementations; each of these implement
<a href="../Client.html" name="com.twitter.finagle.Client" id="com.twitter.finagle.Client" class="extype">Client</a> and/or <a href="../Server.html" name="com.twitter.finagle.Server" id="com.twitter.finagle.Server" class="extype">com.twitter.finagle.Server</a>. For example, Finagle's
HTTP implementation, <a href="../Http$.html" name="com.twitter.finagle.Http" id="com.twitter.finagle.Http" class="extype">com.twitter.finagle.Http</a> (in package <code>finagle-http</code>), exposes both.</p><p>Thus a simple HTTP server is built like this:</p><pre><span class="kw">import</span> com.twitter.finagle.{Http, Service}
<span class="kw">import</span> com.twitter.finagle.http.{Request, Response}
<span class="kw">import</span> com.twitter.util.{Await, Future}

<span class="kw">val</span> service = <span class="kw">new</span> Service[Request, Response] {
  <span class="kw">def</span> apply(req: Request): Future[Response] =
    Future.value(Response())
}
<span class="kw">val</span> server = Http.server.serve(<span class="lit">":8080"</span>, service)
Await.ready(server)</pre><p>We first define a service to which requests are dispatched. In this case, the service returns
immediately with a HTTP 200 OK response, and with no content.</p><p>This service is then served via the Http protocol on TCP port 8080. Finally we wait for the server
to stop serving.</p><p>We can now query our web server:</p><pre>% curl -D - localhost:<span class="num">8080</span>
HTTP/<span class="num">1.1</span> <span class="num">200</span> OK</pre><p>Building an HTTP client is also simple. (Note that type annotations are added for illustration.)</p><pre><span class="kw">import</span> com.twitter.finagle.{Http, Service}
<span class="kw">import</span> com.twitter.finagle.http.{Request, Response}
<span class="kw">import</span> com.twitter.util.{Future, Return, Throw}

<span class="kw">val</span> client: Service[Request, Response] = Http.client.newService(<span class="lit">"localhost:8080"</span>)
<span class="kw">val</span> f: Future[Response] = client(Request()).respond {
  <span class="kw">case</span> Return(rep) <span class="kw">=&gt;</span>
    printf(<span class="lit">"Got HTTP response %s\n"</span>, rep)
  <span class="kw">case</span> Throw(exc) <span class="kw">=&gt;</span>
    printf(<span class="lit">"Got error %s\n"</span>, exc)
}</pre><p><code>Http.client.newService("localhost:8080")</code> constructs a new <a href="../Service.html" name="com.twitter.finagle.Service" id="com.twitter.finagle.Service" class="extype">com.twitter.finagle.Service</a> instance
connected to localhost TCP port 8080. We then issue a HTTP/1.1 GET request to URI "/". The service
returns a <a href="https://twitter.github.io/util/docs/com/twitter/util/Future.html" name="com.twitter.util.Future" id="com.twitter.util.Future" class="extype">com.twitter.util.Future</a> representing the result of the operation. We listen to this
future, printing an appropriate message when the response arrives.</p><p>The <a href="https://twitter.github.io/finagle/" target="_blank">Finagle homepage</a> contains useful documentation and
resources for using Finagle.
</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../index.html" name="com.twitter" id="com.twitter" class="extype">twitter</a></dd></dl></div></li><li class="indented4 " name="com.twitter.finagle.thriftmux" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="thriftmux" class="anchorToMember"></a><a id="thriftmux:thriftmux" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="index.html" title=""><span class="name">thriftmux</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.twitter.finagle" id="com.twitter.finagle" class="extype">finagle</a></dd></dl></div></li><li class="indented5 " name="com.twitter.finagle.thriftmux.service" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="service" class="anchorToMember"></a><a id="service:service" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/service/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="service/index.html" title=""><span class="name">service</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="index.html" name="com.twitter.finagle.thriftmux" id="com.twitter.finagle.thriftmux" class="extype">thriftmux</a></dd></dl></div></li><li class="current-entities indented4"><a href="MethodBuilder$.html" title="" class="object"></a> <a href="" title="MethodBuilder is a collection of APIs for client configuration at a higher level than the Finagle 6 APIs while improving upon the deprecated ClientBuilder." class="class"></a><a href="" title="MethodBuilder is a collection of APIs for client configuration at a higher level than the Finagle 6 APIs while improving upon the deprecated ClientBuilder.">MethodBuilder</a></li></ul></div></div><div id="content"><body class="class type"><div id="definition"><a href="MethodBuilder$.html" title="See companion object"><div class="big-circle class-companion-object">c</div></a><p id="owner"><a href="../../../index.html" name="com" id="com" class="extype">com</a>.<a href="../../index.html" name="com.twitter" id="com.twitter" class="extype">twitter</a>.<a href="../index.html" name="com.twitter.finagle" id="com.twitter.finagle" class="extype">finagle</a>.<a href="index.html" name="com.twitter.finagle.thriftmux" id="com.twitter.finagle.thriftmux" class="extype">thriftmux</a></p><h1><a href="MethodBuilder$.html" title="See companion object">MethodBuilder</a><span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html" title="Permalink"><i class="material-icons"></i></a></span></h1><h3><span class="morelinks"><div>Companion <a href="MethodBuilder$.html" title="See companion object">object MethodBuilder</a></div></span></h3></div><h4 id="signature" class="signature"><span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><span class="name">MethodBuilder</span><span class="result"> extends <a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a>[<a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a>]</span></span></h4><div id="comment" class="fullcommenttop"><div class="comment cmt"><p><code>MethodBuilder</code> is a collection of APIs for client configuration at
a higher level than the Finagle 6 APIs while improving upon the deprecated
<span name="ClientBuilder" class="extype">ClientBuilder</span>. <code>MethodBuilder</code> provides:</p><ul><li>Logical success rate metrics.</li><li>Retries based on application-level requests and responses (e.g. a code in
   the Thrift response).</li><li>Configuration of per-attempt and total timeouts.</li></ul><p>All of these can be customized per method (or endpoint) while sharing a single
underlying Finagle client. Concretely, a single service might offer both
<code>getOneTweet</code> as well as <code>deleteTweets</code>, whilst each having
wildly different characteristics. The get is idempotent and has a tight latency
distribution while the delete is not idempotent and has a wide latency
distribution. If users want different configurations, without <code>MethodBuilder</code>
they must create separate Finagle clients for each grouping. While long-lived
clients in Finagle are not expensive, they are not free. They create
duplicate metrics and waste heap, file descriptors, and CPU.</p><h3> Example </h3><p>Given an example IDL:</p><pre>exception AnException {
  <span class="num">1</span>: i32 errorCode
}

service SomeService {
  i32 TheMethod(
    <span class="num">1</span>: i32 input
  ) throws (
    <span class="num">1</span>: AnException ex1,
  )
}</pre><p>This gives you a <code>Service</code> that has timeouts and retries on
<code>AnException</code> when the <code>errorCode</code> is <code>0</code>:</p><pre><span class="kw">import</span> com.twitter.conversions.DurationOps._
<span class="kw">import</span> com.twitter.finagle.ThriftMux
<span class="kw">import</span> com.twitter.finagle.service.{ReqRep, ResponseClass}
<span class="kw">import</span> com.twitter.util.Throw

<span class="kw">val</span> client: ThriftMux.Client = ???
<span class="kw">val</span> svc: Service[TheMethod.Args, TheMethod.SuccessType] =
  client.methodBuilder(<span class="lit">"inet!example.com:5555"</span>)
    .withTimeoutPerRequest(<span class="num">50.</span>milliseconds)
    .withTimeoutTotal(<span class="num">100.</span>milliseconds)
    .withRetryForClassifier {
      <span class="kw">case</span> ReqRep(_, Throw(AnException(errCode))) <span class="kw">if</span> errCode == <span class="num">0</span> <span class="kw">=&gt;</span>
        ResponseClass.RetryableFailure
    }
    .newServiceIface(<span class="lit">"the_method"</span>)
    .theMethod</pre><h3> Timeouts </h3><p>Defaults to using the StackClient's configuration.</p><p>An example of setting a per-request timeout of 50 milliseconds and a total
timeout of 100 milliseconds:</p><pre><span class="kw">import</span> com.twitter.conversions.DurationOps._
<span class="kw">import</span> com.twitter.finagle.thriftmux.MethodBuilder

<span class="kw">val</span> builder: MethodBuilder = ???
builder
  .withTimeoutPerRequest(<span class="num">50.</span>milliseconds)
  .withTimeoutTotal(<span class="num">100.</span>milliseconds)</pre><h3> Retries </h3><p>Retries are intended to help clients improve success rate by trying
failed requests additional times. Care must be taken by developers
to only retry when it is known to be safe to issue the request multiple
times. This is because the client cannot always be sure what the
backend service has done. An example of a request that is safe to
retry would be a read-only request.</p><p>Defaults to using the client's <span name="ResponseClassifier" class="extype">ResponseClassifier</span> to retry failures
<a href="../service/ResponseClass$.html#RetryableFailure:com.twitter.finagle.service.ResponseClass.Failed" name="com.twitter.finagle.service.ResponseClass#RetryableFailure" id="com.twitter.finagle.service.ResponseClass#RetryableFailure" class="extmbr">marked as retryable</a>.
See <a href="#withRetryForClassifier(classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.thriftmux.MethodBuilder" name="com.twitter.finagle.thriftmux.MethodBuilder#withRetryForClassifier" id="com.twitter.finagle.thriftmux.MethodBuilder#withRetryForClassifier" class="extmbr">withRetryForClassifier</a> for details.</p><p>An example of configuring classifiers for ChannelClosed and Timeout exceptions:</p><pre><span class="kw">import</span> com.twitter.finagle.service.ResponseClassifier._
<span class="kw">import</span> com.twitter.finagle.thriftmux.MethodBuilder

<span class="kw">val</span> builder: MethodBuilder = ???
builder
  .withRetryForClassifier(RetryOnChannelClosed.orElse(RetryOnTimeout))</pre><p>A <a href="../service/RetryBudget.html" name="com.twitter.finagle.service.RetryBudget" id="com.twitter.finagle.service.RetryBudget" class="extype">com.twitter.finagle.service.RetryBudget</a> is used to prevent retries from overwhelming
the backend service. The budget is shared across clients created from
an initial <code>MethodBuilder</code>. As such, even if the retry rules
deem the request retryable, it may not be retried if there is insufficient
budget.</p><p>Finagle will automatically retry failures that are known to be safe
to retry via <span name="com.twitter.finagle.service.RequeueFilter" class="extype">com.twitter.finagle.service.RequeueFilter</span>. This includes
<a href="../WriteException.html" name="com.twitter.finagle.WriteException" id="com.twitter.finagle.WriteException" class="extype">WriteExceptions</a> and
<a href="../FailureFlags$.html#Retryable:Long" name="com.twitter.finagle.FailureFlags#Retryable" id="com.twitter.finagle.FailureFlags#Retryable" class="extmbr">retryable nacks</a>. As these should have
already been retried, we avoid retrying them again by ignoring them at this layer.</p><p>Additional information regarding retries can be found in the
<a href="https://twitter.github.io/finagle/guide/Clients.html#retries" target="_blank">user guide</a>.</p><p>The classifier is also used to determine the logical success metrics of
the method. Logical here means after any retries are run. For example
should a request result in retryable failure on the first attempt, but
succeed upon retry, this is exposed through metrics as a success.
Logical success rate metrics are scoped to
"clnt/your_client_label/method_name/logical" and get "success" and
"requests" counters along with a "request_latency_ms" stat.</p><p>Unsuccessful requests are logged at <code>com.twitter.logging.Level.DEBUG</code> level.
Further details, including the request and response, are available at
<code>TRACE</code> level.
</p></div><dl class="attributes block"><dt>See also</dt><dd><span class="cmt"><p><a href="../ThriftMux$$Client.html#methodBuilder(dest:com.twitter.finagle.Name):com.twitter.finagle.thriftmux.MethodBuilder" name="com.twitter.finagle.ThriftMux.Client#methodBuilder" id="com.twitter.finagle.ThriftMux.Client#methodBuilder" class="extmbr">com.twitter.finagle.ThriftMux.Client.methodBuilder</a> to construct instances.</p></span><span class="cmt"><p>The <a href="https://twitter.github.io/finagle/guide/MethodBuilder.html" target="_blank">user guide</a>.</p></span></dd></dl><div class="toggleContainer"><div class="toggle block"><span>Linear Supertypes</span><div class="superTypes hiddenContent"><a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a>[<a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a>], <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a>, <a href="https://www.scala-lang.org/api/2.13.6/scala/Any.html#scala.Any" name="scala.Any" id="scala.Any" class="extype">Any</a></div></div></div></div><div id="mbrsel"><div class="toggle"></div><div id="memberfilter"><i class="material-icons arrow"></i><span class="input"><input placeholder="Filter all members" id="mbrsel-input" type="text" accesskey="/"/></span><i class="clear material-icons"></i></div><div id="filterby"><div id="order"><span class="filtertype">Ordering</span><ol><li class="alpha in"><span>Alphabetic</span></li><li class="inherit out"><span>By Inheritance</span></li></ol></div><div class="ancestors"><span class="filtertype">Inherited<br/></span><ol id="linearization"><li class="in" name="com.twitter.finagle.thriftmux.MethodBuilder"><span>MethodBuilder</span></li><li class="in" name="com.twitter.finagle.client.BaseMethodBuilder"><span>BaseMethodBuilder</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li></ol></div><div class="ancestors"><span class="filtertype"></span><ol><li class="hideall out"><span>Hide All</span></li><li class="showall in"><span>Show All</span></li></ol></div><div id="visbl"><span class="filtertype">Visibility</span><ol><li class="public in"><span>Public</span></li><li class="protected out"><span>Protected</span></li></ol></div></div></div><div id="template"><div id="allMembers"><div id="constructors" class="members"><h3>Instance Constructors</h3><ol><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#&lt;init&gt;" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="&lt;init&gt;(thriftMuxClient:com.twitter.finagle.ThriftMux.Client,mb:com.twitter.finagle.client.MethodBuilder[com.twitter.finagle.thrift.ThriftClientRequest,Array[Byte]]):com.twitter.finagle.thriftmux.MethodBuilder" class="anchorToMember"></a><a id="&lt;init&gt;:MethodBuilder" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#&lt;init&gt;(thriftMuxClient:com.twitter.finagle.ThriftMux.Client,mb:com.twitter.finagle.client.MethodBuilder[com.twitter.finagle.thrift.ThriftClientRequest,Array[Byte]]):com.twitter.finagle.thriftmux.MethodBuilder" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">new</span></span> <span class="symbol"><span class="name">MethodBuilder</span><span class="params">(<span name="thriftMuxClient">thriftMuxClient: <a href="../ThriftMux$$Client.html" name="com.twitter.finagle.ThriftMux.Client" id="com.twitter.finagle.ThriftMux.Client" class="extype">ThriftMux.Client</a></span>, <span name="mb">mb: <a href="../client/MethodBuilder.html" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">client.MethodBuilder</a>[<a href="../thrift/ThriftClientRequest.html" name="com.twitter.finagle.thrift.ThriftClientRequest" id="com.twitter.finagle.thrift.ThriftClientRequest" class="extype">ThriftClientRequest</a>, <a href="https://www.scala-lang.org/api/2.13.6/scala/Array.html#scala.Array" name="scala.Array" id="scala.Array" class="extype">Array</a>[<a href="https://www.scala-lang.org/api/2.13.6/scala/Byte.html#scala.Byte" name="scala.Byte" id="scala.Byte" class="extype">Byte</a>]]</span>)</span></span></li></ol></div><div class="values members"><h3>Value Members</h3><ol><li class="indented0 " name="scala.AnyRef#!=" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="!=(x$1:Any):Boolean" class="anchorToMember"></a><a id="!=(Any):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#!=(x$1:Any):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name" title="gt4s: $bang$eq">!=</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/Any.html#scala.Any" name="scala.Any" id="scala.Any" class="extype">Any</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef###" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="##:Int" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html###:Int" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name" title="gt4s: $hash$hash">##</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Int.html#scala.Int" name="scala.Int" id="scala.Int" class="extype">Int</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#==" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="==(x$1:Any):Boolean" class="anchorToMember"></a><a id="==(Any):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#==(x$1:Any):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name" title="gt4s: $eq$eq">==</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/Any.html#scala.Any" name="scala.Any" id="scala.Any" class="extype">Any</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.Any#asInstanceOf" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="asInstanceOf[T0]:T0" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#asInstanceOf[T0]:T0" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">asInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span name="scala.Any.asInstanceOf.T0" class="extype">T0</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#clone" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="prt"><a id="clone():Object" class="anchorToMember"></a><a id="clone():AnyRef" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#clone():Object" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">clone</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Attributes</dt><dd>protected[<span name="java.lang" class="extype">lang</span>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.CloneNotSupportedException]</span></span>)</span> <span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#eq" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="eq(x$1:AnyRef):Boolean" class="anchorToMember"></a><a id="eq(AnyRef):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#eq(x$1:AnyRef):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">eq</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#equals" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="equals(x$1:Object):Boolean" class="anchorToMember"></a><a id="equals(AnyRef):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#equals(x$1:Object):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">equals</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#finalize" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="prt"><a id="finalize():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#finalize():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">finalize</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Attributes</dt><dd>protected[<span name="java.lang" class="extype">lang</span>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="symbol">classOf[java.lang.Throwable]</span></span>)</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#getClass" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="getClass():Class[_]" class="anchorToMember"></a><a id="getClass():Class[_&lt;:AnyRef]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#getClass():Class[_]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">getClass</span><span class="params">()</span><span class="result">: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#java.lang.Class" name="java.lang.Class" id="java.lang.Class" class="extype">Class</a>[_ &lt;: <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a>]</span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#hashCode" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="hashCode():Int" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#hashCode():Int" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">hashCode</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Int.html#scala.Int" name="scala.Int" id="scala.Int" class="extype">Int</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#idempotent" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="idempotent(maxExtraLoad:com.twitter.util.tunable.Tunable[Double]):com.twitter.finagle.thriftmux.MethodBuilder" class="anchorToMember"></a><a id="idempotent(Tunable[Double]):MethodBuilder" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#idempotent(maxExtraLoad:com.twitter.util.tunable.Tunable[Double]):com.twitter.finagle.thriftmux.MethodBuilder" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">idempotent</span><span class="params">(<span name="maxExtraLoad">maxExtraLoad: <a href="https://twitter.github.io/util/docs/com/twitter/util/tunable/Tunable.html#com.twitter.util.tunable.Tunable" name="com.twitter.util.tunable.Tunable" id="com.twitter.util.tunable.Tunable" class="extype">Tunable</a>[<a href="https://www.scala-lang.org/api/2.13.6/scala/Double.html#scala.Double" name="scala.Double" id="scala.Double" class="extype">Double</a>]</span>)</span><span class="result">: <a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a></span></span><p class="shortcomment cmt">Configure that requests are to be treated as idempotent.</p><div class="fullcomment"><div class="comment cmt"><p>Configure that requests are to be treated as idempotent. Because requests can be safely
retried, <span name="BackupRequestFilter" class="extype">BackupRequestFilter</span> is configured with the params <code>maxExtraLoad</code>
to decrease tail latency by sending an additional fraction of requests.</p><p>This additionally causes Thrift Exceptions to be retried.</p></div><dl class="paramcmts block"><dt class="param">maxExtraLoad</dt><dd class="cmt"><p>How much extra load, as a Tunable[Double], we are willing to send to the
                    server. Must be between 0.0 and 1.0.
                    Backup requests can be disabled by setting this to 0.0.</p></dd></dl><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a> → <a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#idempotent" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="idempotent(maxExtraLoad:Double):com.twitter.finagle.thriftmux.MethodBuilder" class="anchorToMember"></a><a id="idempotent(Double):MethodBuilder" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#idempotent(maxExtraLoad:Double):com.twitter.finagle.thriftmux.MethodBuilder" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">idempotent</span><span class="params">(<span name="maxExtraLoad">maxExtraLoad: <a href="https://www.scala-lang.org/api/2.13.6/scala/Double.html#scala.Double" name="scala.Double" id="scala.Double" class="extype">Double</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a></span></span><p class="shortcomment cmt">Configure that requests are to be treated as idempotent.</p><div class="fullcomment"><div class="comment cmt"><p>Configure that requests are to be treated as idempotent. Because requests can be safely
retried, <span name="BackupRequestFilter" class="extype">BackupRequestFilter</span> is configured with the params <code>maxExtraLoad</code>
to decrease tail latency by sending an additional fraction of requests.</p><p> If you are using TwitterServer, a good starting point for determining a value for
<code>maxExtraLoad</code> is looking at the details of the PDF histogram for request latency,
at /admin/histograms. If you choose a <code>maxExtraLoad</code> of 1.percent, for example, you can expect
your p999/p9999 latencies to (roughly) now be that of your p99 latency. For 5.percent, those
latencies would shift to your p95 latency. You should also ensure that your backend can
tolerate the increased load.</p><p>This additionally causes Thrift Exceptions to be retried.</p></div><dl class="paramcmts block"><dt class="param">maxExtraLoad</dt><dd class="cmt"><p>How much extra load, as a fraction, we are willing to send to the server.
                    Must be between 0.0 and 1.0.
                    Backup requests can be disabled by setting this to 0.0.</p></dd></dl><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a> → <a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a></dd></dl></div></li><li class="indented0 " name="scala.Any#isInstanceOf" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="isInstanceOf[T0]:Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#isInstanceOf[T0]:Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">isInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>Any</dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#label" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="label:String" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#label:String" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">label</span><span class="result">: <span name="scala.Predef.String" class="extype">String</span></span></span><p class="shortcomment cmt">Configured client label.</p><div class="fullcomment"><div class="comment cmt"><p>Configured client label. The <code>label</code> is used to assign a label to the underlying Thrift client.
The label is used to display stats, etc.
</p></div><dl class="attributes block"><dt>See also</dt><dd><span class="cmt"><p><a href="../Client.html" name="com.twitter.finagle.Client" id="com.twitter.finagle.Client" class="extype">com.twitter.finagle.Client</a></p></span><span class="cmt"><p><a href="https://twitter.github.io/finagle/guide/Clients.html#clients" target="_blank">https://twitter.github.io/finagle/guide/Clients.html#clients</a></p></span></dd></dl></div></li><li class="indented0 " name="scala.AnyRef#ne" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="ne(x$1:AnyRef):Boolean" class="anchorToMember"></a><a id="ne(AnyRef):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#ne(x$1:AnyRef):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">ne</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#nonIdempotent" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="nonIdempotent:com.twitter.finagle.thriftmux.MethodBuilder" class="anchorToMember"></a><a id="nonIdempotent:MethodBuilder" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#nonIdempotent:com.twitter.finagle.thriftmux.MethodBuilder" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">nonIdempotent</span><span class="result">: <a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a></span></span><p class="shortcomment cmt">Configure that requests are to be treated as non-idempotent.</p><div class="fullcomment"><div class="comment cmt"><p>Configure that requests are to be treated as non-idempotent. <span name="BackupRequestFilter" class="extype">BackupRequestFilter</span> is
disabled, and only those failures that are known to be safe to retry (i.e., write failures,
where the request was never sent) are retried via requeue filter; any previously configured
retries are removed.
</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a> → <a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a></dd><dt>See also</dt><dd><span class="cmt"><p>The MethodBuilder section in the
     <a href="https://twitter.github.io/finagle/guide/MethodBuilder.html#idempotency" target="_blank">user guide</a>
     for further details.</p></span></dd></dl></div></li><li class="indented0 " name="scala.AnyRef#notify" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="notify():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#notify():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">notify</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#notifyAll" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="notifyAll():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#notifyAll():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">notifyAll</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#servicePerEndpoint" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="servicePerEndpoint[ServicePerEndpoint&lt;:com.twitter.finagle.thrift.service.Filterable[ServicePerEndpoint]](implicitbuilder:com.twitter.finagle.thrift.service.ServicePerEndpointBuilder[ServicePerEndpoint]):ServicePerEndpoint" class="anchorToMember"></a><a id="servicePerEndpoint[ServicePerEndpoint&lt;:Filterable[ServicePerEndpoint]](ServicePerEndpointBuilder[ServicePerEndpoint]):ServicePerEndpoint" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#servicePerEndpoint[ServicePerEndpoint&lt;:com.twitter.finagle.thrift.service.Filterable[ServicePerEndpoint]](implicitbuilder:com.twitter.finagle.thrift.service.ServicePerEndpointBuilder[ServicePerEndpoint]):ServicePerEndpoint" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">servicePerEndpoint</span><span class="tparams">[<span name="ServicePerEndpoint">ServicePerEndpoint &lt;: <a href="../thrift/service/Filterable.html" name="com.twitter.finagle.thrift.service.Filterable" id="com.twitter.finagle.thrift.service.Filterable" class="extype">Filterable</a>[<span name="com.twitter.finagle.thriftmux.MethodBuilder.servicePerEndpoint.ServicePerEndpoint" class="extype">ServicePerEndpoint</span>]</span>]</span><span class="params">(<span class="implicit">implicit </span><span name="builder">builder: <a href="../thrift/service/ServicePerEndpointBuilder.html" name="com.twitter.finagle.thrift.service.ServicePerEndpointBuilder" id="com.twitter.finagle.thrift.service.ServicePerEndpointBuilder" class="extype">ServicePerEndpointBuilder</a>[<span name="com.twitter.finagle.thriftmux.MethodBuilder.servicePerEndpoint.ServicePerEndpoint" class="extype">ServicePerEndpoint</span>]</span>)</span><span class="result">: <span name="com.twitter.finagle.thriftmux.MethodBuilder.servicePerEndpoint.ServicePerEndpoint" class="extype">ServicePerEndpoint</span></span></span><p class="shortcomment cmt">Construct a <code>ServicePerEndpoint</code> to be used for the client.</p></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#servicePerEndpoint" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="servicePerEndpoint[ServicePerEndpoint&lt;:com.twitter.finagle.thrift.service.Filterable[ServicePerEndpoint]](methodName:String)(implicitbuilder:com.twitter.finagle.thrift.service.ServicePerEndpointBuilder[ServicePerEndpoint]):ServicePerEndpoint" class="anchorToMember"></a><a id="servicePerEndpoint[ServicePerEndpoint&lt;:Filterable[ServicePerEndpoint]](String)(ServicePerEndpointBuilder[ServicePerEndpoint]):ServicePerEndpoint" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#servicePerEndpoint[ServicePerEndpoint&lt;:com.twitter.finagle.thrift.service.Filterable[ServicePerEndpoint]](methodName:String)(implicitbuilder:com.twitter.finagle.thrift.service.ServicePerEndpointBuilder[ServicePerEndpoint]):ServicePerEndpoint" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">servicePerEndpoint</span><span class="tparams">[<span name="ServicePerEndpoint">ServicePerEndpoint &lt;: <a href="../thrift/service/Filterable.html" name="com.twitter.finagle.thrift.service.Filterable" id="com.twitter.finagle.thrift.service.Filterable" class="extype">Filterable</a>[<span name="com.twitter.finagle.thriftmux.MethodBuilder.servicePerEndpoint.ServicePerEndpoint" class="extype">ServicePerEndpoint</span>]</span>]</span><span class="params">(<span name="methodName">methodName: <span name="scala.Predef.String" class="extype">String</span></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="builder">builder: <a href="../thrift/service/ServicePerEndpointBuilder.html" name="com.twitter.finagle.thrift.service.ServicePerEndpointBuilder" id="com.twitter.finagle.thrift.service.ServicePerEndpointBuilder" class="extype">ServicePerEndpointBuilder</a>[<span name="com.twitter.finagle.thriftmux.MethodBuilder.servicePerEndpoint.ServicePerEndpoint" class="extype">ServicePerEndpoint</span>]</span>)</span><span class="result">: <span name="com.twitter.finagle.thriftmux.MethodBuilder.servicePerEndpoint.ServicePerEndpoint" class="extype">ServicePerEndpoint</span></span></span><p class="shortcomment cmt">Construct a <code>ServicePerEndpoint</code> to be used for the <code>methodName</code> function.</p><div class="fullcomment"><div class="comment cmt"><p>Construct a <code>ServicePerEndpoint</code> to be used for the <code>methodName</code> function.
</p></div><dl class="paramcmts block"><dt class="param">methodName</dt><dd class="cmt"><p>used for scoping metrics (e.g. "clnt/your_client_label/method_name").</p></dd></dl></div></li><li class="indented0 " name="scala.AnyRef#synchronized" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="synchronized[T0](x$1:=&gt;T0):T0" class="anchorToMember"></a><a id="synchronized[T0](=&gt;T0):T0" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#synchronized[T0](x$1:=&gt;T0):T0" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">synchronized</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="params">(<span name="arg0">arg0: =&gt; <span name="java.lang.AnyRef.synchronized.T0" class="extype">T0</span></span>)</span><span class="result">: <span name="java.lang.AnyRef.synchronized.T0" class="extype">T0</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#toString" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="toString():String" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#toString():String" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">toString</span><span class="params">()</span><span class="result">: <span name="scala.Predef.String" class="extype">String</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a> → AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#wait" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="wait():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#wait():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wait</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.InterruptedException]</span></span>)</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#wait" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="wait(x$1:Long,x$2:Int):Unit" class="anchorToMember"></a><a id="wait(Long,Int):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#wait(x$1:Long,x$2:Int):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wait</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/Long.html#scala.Long" name="scala.Long" id="scala.Long" class="extype">Long</a></span>, <span name="arg1">arg1: <a href="https://www.scala-lang.org/api/2.13.6/scala/Int.html#scala.Int" name="scala.Int" id="scala.Int" class="extype">Int</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.InterruptedException]</span></span>)</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#wait" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="wait(x$1:Long):Unit" class="anchorToMember"></a><a id="wait(Long):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#wait(x$1:Long):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wait</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/Long.html#scala.Long" name="scala.Long" id="scala.Long" class="extype">Long</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.InterruptedException]</span></span>)</span> <span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#withMaxRetries" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="withMaxRetries(value:Int):com.twitter.finagle.thriftmux.MethodBuilder" class="anchorToMember"></a><a id="withMaxRetries(Int):MethodBuilder" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#withMaxRetries(value:Int):com.twitter.finagle.thriftmux.MethodBuilder" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">withMaxRetries</span><span class="params">(<span name="value">value: <a href="https://www.scala-lang.org/api/2.13.6/scala/Int.html#scala.Int" name="scala.Int" id="scala.Int" class="extype">Int</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a></span></span><p class="shortcomment cmt">Maximum retry attempts for a request based on the configured <span name="ResponseClassifier" class="extype">ResponseClassifier</span>.</p><div class="fullcomment"><div class="comment cmt"><p>Maximum retry attempts for a request based on the configured <span name="ResponseClassifier" class="extype">ResponseClassifier</span>.
</p></div><dl class="paramcmts block"><dt class="param">value</dt><dd class="cmt"><p>when a <a href="../service/ResponseClass$$Failed.html" name="com.twitter.finagle.service.ResponseClass.Failed" id="com.twitter.finagle.service.ResponseClass.Failed" class="extype">Failed</a>
                  with <code>retryable</code> is <code>true</code> is returned for a given <code>ReqRep</code>, the
                  request will be retried up to <code>value</code> times or the <a href="../service/RetryBudget.html" name="com.twitter.finagle.service.RetryBudget" id="com.twitter.finagle.service.RetryBudget" class="extype">com.twitter.finagle.service.RetryBudget</a>
                  has been exhausted (whichever occurs first).</p></dd></dl><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a> → <a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a></dd><dt>See also</dt><dd><span class="cmt"><p><a href="#withRetryDisabled:com.twitter.finagle.thriftmux.MethodBuilder" name="com.twitter.finagle.thriftmux.MethodBuilder#withRetryDisabled" id="com.twitter.finagle.thriftmux.MethodBuilder#withRetryDisabled" class="extmbr">withRetryDisabled</a></p></span><span class="cmt"><p><a href="https://twitter.github.io/finagle/guide/Clients.html#response-classification" target="_blank">response classification user guide</a></p></span><span class="cmt"><p>The MethodBuilder section in the
     <a href="https://twitter.github.io/finagle/guide/MethodBuilder.html#retries" target="_blank">user guide</a>
     for further details.</p></span></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#withPartitioningStrategy" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="withPartitioningStrategy(strategy:com.twitter.finagle.thrift.exp.partitioning.PartitioningStrategy):com.twitter.finagle.thriftmux.MethodBuilder" class="anchorToMember"></a><a id="withPartitioningStrategy(PartitioningStrategy):MethodBuilder" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#withPartitioningStrategy(strategy:com.twitter.finagle.thrift.exp.partitioning.PartitioningStrategy):com.twitter.finagle.thriftmux.MethodBuilder" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">withPartitioningStrategy</span><span class="params">(<span name="strategy">strategy: <a href="../thrift/exp/partitioning/PartitioningStrategy.html" name="com.twitter.finagle.thrift.exp.partitioning.PartitioningStrategy" id="com.twitter.finagle.thrift.exp.partitioning.PartitioningStrategy" class="extype">PartitioningStrategy</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a></span></span><p class="shortcomment cmt">Set a <span name="PartitioningStrategy" class="extype">PartitioningStrategy</span> for a MethodBuilder endpoint to enable
partitioning awareness.</p><div class="fullcomment"><div class="comment cmt"><p>Set a <span name="PartitioningStrategy" class="extype">PartitioningStrategy</span> for a MethodBuilder endpoint to enable
partitioning awareness. See <span name="PartitioningStrategy" class="extype">PartitioningStrategy</span>.</p><p>Default is <span name="com.twitter.finagle.thrift.exp.partitioning.Disabled" class="extype">com.twitter.finagle.thrift.exp.partitioning.Disabled</span>
</p></div><dl class="attributes block"><div class="block">Example:<ol><li class="cmt"><p>
To set a hashing strategy to MethodBuilder:</p><pre><span class="kw">import</span> com.twitter.finagle.ThriftMux.Client
<span class="kw">import</span> com.twitter.finagle.thrift.exp.partitioning.MethodBuilderHashingStrategy

<span class="kw">val</span> hashingStrategy = <span class="kw">new</span> MethodBuilderHashingStrategy[RequestType, ResponseType](...)

<span class="kw">val</span> client: ThriftMux.Client = ???
<span class="kw">val</span> builder = client.methodBuilder($address)

builder
  .withPartitioningStrategy(hashingStrategy)
  .servicePerEndpoint...
...</pre></li></ol></div></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#withRetryDisabled" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="withRetryDisabled:com.twitter.finagle.thriftmux.MethodBuilder" class="anchorToMember"></a><a id="withRetryDisabled:MethodBuilder" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#withRetryDisabled:com.twitter.finagle.thriftmux.MethodBuilder" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">withRetryDisabled</span><span class="result">: <a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a></span></span><p class="shortcomment cmt">Disables "application" level retries.</p><div class="fullcomment"><div class="comment cmt"><p>Disables "application" level retries.</p><p>This <b>does not</b> disable retries of failures that are known
to be safe to retry via <code>com.twitter.finagle.service.RequeueFilter</code>.</p><p>This causes the logical success metrics to be based on the
<span name="ResponseClassifier.Default" class="extype">default response classifier</span> rules
of a <code>Return</code> response is a success, while everything else is not.
</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a> → <a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a></dd><div class="block">Example:<ol><li class="cmt"><p></p><pre><span class="kw">import</span> com.twitter.finagle.http.Http

<span class="kw">val</span> client: Http.Client = ???
<span class="kw">val</span> builder = client.methodBuilder(<span class="lit">"inet!example.com:80"</span>)
builder.withRetryDisabled</pre></li></ol></div><dt>See also</dt><dd><span class="cmt"><p><a href="#withRetryForClassifier(classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.thriftmux.MethodBuilder" name="com.twitter.finagle.thriftmux.MethodBuilder#withRetryForClassifier" id="com.twitter.finagle.thriftmux.MethodBuilder#withRetryForClassifier" class="extmbr">withRetryForClassifier</a></p></span><span class="cmt"><p>The MethodBuilder section in the
     <a href="https://twitter.github.io/finagle/guide/MethodBuilder.html#retries" target="_blank">user guide</a>
     for further details.</p></span></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#withRetryForClassifier" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="withRetryForClassifier(classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.thriftmux.MethodBuilder" class="anchorToMember"></a><a id="withRetryForClassifier(ResponseClassifier):MethodBuilder" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#withRetryForClassifier(classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.thriftmux.MethodBuilder" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">withRetryForClassifier</span><span class="params">(<span name="classifier">classifier: <a href="../service/index.html#ResponseClassifier=PartialFunction[com.twitter.finagle.service.ReqRep,com.twitter.finagle.service.ResponseClass]" name="com.twitter.finagle.service.ResponseClassifier" id="com.twitter.finagle.service.ResponseClassifier" class="extmbr">ResponseClassifier</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a></span></span><p class="shortcomment cmt">Retry based on <span name="ResponseClassifier" class="extype">ResponseClassifier</span>.</p><div class="fullcomment"><div class="comment cmt"><p>Retry based on <span name="ResponseClassifier" class="extype">ResponseClassifier</span>.</p><p>The default behavior is to use the client's classifier which is typically
configured through <code>theClient.withResponseClassifier</code> or
<code>ClientBuilder.withResponseClassifier</code>.</p><p>This classifier is used to determine which requests are unsuccessful.
This is the basis for measuring the logical success metrics as well as
logging unsuccessful requests at debug level.
</p></div><dl class="paramcmts block"><dt class="param">classifier</dt><dd class="cmt"><p>when a <a href="../service/ResponseClass$$Failed.html" name="com.twitter.finagle.service.ResponseClass.Failed" id="com.twitter.finagle.service.ResponseClass.Failed" class="extype">Failed</a>
                  with <code>retryable</code> is <code>true</code> is returned for a given <code>ReqRep</code>, the
                  request will be retried. This is often a
                  <code>ResponseClass.RetryableFailure</code>.</p></dd></dl><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a> → <a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a></dd><div class="block">Example:<ol><li class="cmt"><p>
For example, retrying on a 418 status code:</p><pre><span class="kw">import</span> com.twitter.conversions.DurationOps._
<span class="kw">import</span> com.twitter.finagle.http.Http
<span class="kw">import</span> com.twitter.finagle.service.{ReqRep, ResponseClass}
<span class="kw">import</span> com.twitter.util.Return

<span class="kw">val</span> client: Http.Client = ???
<span class="kw">val</span> builder = client.methodBuilder(<span class="lit">"inet!example.com:80"</span>)
builder.withRetryForClassifier {
  <span class="kw">case</span> ReqRep(_, Return(rep)) <span class="kw">if</span> rep.statusCode == <span class="num">418</span> <span class="kw">=&gt;</span> ResponseClass.RetryableFailure
}</pre><p>The classifier is also used to determine the logical success metrics of
the client.</p></li></ol></div><dt>See also</dt><dd><span class="cmt"><p><a href="#withRetryDisabled:com.twitter.finagle.thriftmux.MethodBuilder" name="com.twitter.finagle.thriftmux.MethodBuilder#withRetryDisabled" id="com.twitter.finagle.thriftmux.MethodBuilder#withRetryDisabled" class="extmbr">withRetryDisabled</a></p></span><span class="cmt"><p><a href="https://twitter.github.io/finagle/guide/Clients.html#response-classification" target="_blank">response classification user guide</a></p></span><span class="cmt"><p>The MethodBuilder section in the
     <a href="https://twitter.github.io/finagle/guide/MethodBuilder.html#retries" target="_blank">user guide</a>
     for further details.</p></span></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#withTimeoutPerRequest" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="withTimeoutPerRequest(howLong:com.twitter.util.tunable.Tunable[com.twitter.util.Duration]):com.twitter.finagle.thriftmux.MethodBuilder" class="anchorToMember"></a><a id="withTimeoutPerRequest(Tunable[Duration]):MethodBuilder" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#withTimeoutPerRequest(howLong:com.twitter.util.tunable.Tunable[com.twitter.util.Duration]):com.twitter.finagle.thriftmux.MethodBuilder" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">withTimeoutPerRequest</span><span class="params">(<span name="howLong">howLong: <a href="https://twitter.github.io/util/docs/com/twitter/util/tunable/Tunable.html#com.twitter.util.tunable.Tunable" name="com.twitter.util.tunable.Tunable" id="com.twitter.util.tunable.Tunable" class="extype">Tunable</a>[<a href="https://twitter.github.io/util/docs/com/twitter/util/Duration.html#com.twitter.util.Duration" name="com.twitter.util.Duration" id="com.twitter.util.Duration" class="extype">Duration</a>]</span>)</span><span class="result">: <a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a></span></span><p class="shortcomment cmt">How long a <b>single</b> request is given to complete.</p><div class="fullcomment"><div class="comment cmt"><p>How long a <b>single</b> request is given to complete.</p><p>If there are <a href="#withRetryForClassifier(classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.thriftmux.MethodBuilder" name="com.twitter.finagle.thriftmux.MethodBuilder#withRetryForClassifier" id="com.twitter.finagle.thriftmux.MethodBuilder#withRetryForClassifier" class="extmbr">retries</a>, each attempt is given up
to this amount of time.</p><p>If a request does not complete within this time, the response
will be satisfied with a <a href="../IndividualRequestTimeoutException.html" name="com.twitter.finagle.IndividualRequestTimeoutException" id="com.twitter.finagle.IndividualRequestTimeoutException" class="extype">com.twitter.finagle.IndividualRequestTimeoutException</a>.</p><p>Defaults to using the client's configuration for
<span name="com.twitter.finagle.service.TimeoutFilter.Param(timeout)" class="extype">com.twitter.finagle.service.TimeoutFilter.Param(timeout)</span>,
which is typically set via
<a href="../param/CommonParams.html#withRequestTimeout(timeout:com.twitter.util.tunable.Tunable[com.twitter.util.Duration]):A" name="com.twitter.finagle.param.CommonParams#withRequestTimeout" id="com.twitter.finagle.param.CommonParams#withRequestTimeout" class="extmbr">com.twitter.finagle.param.CommonParams.withRequestTimeout</a>.
</p></div><dl class="paramcmts block"><dt class="param">howLong</dt><dd class="cmt"><p>how long, from the initial request issuance,
               an individual attempt given to complete.
               If it is not finite (e.g. <code>Duration.Top</code>),
               no method specific timeout will be applied.</p></dd><dt>returns</dt><dd class="cmt"><p>a new instance with all other settings copied</p></dd></dl><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a> → <a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a></dd><div class="block">Example:<ol><li class="cmt"><p>
For example, a per-request timeout of 50 milliseconds:</p><pre><span class="kw">import</span> com.twitter.conversions.DurationOps._
<span class="kw">import</span> com.twitter.finagle.http.Http
<span class="kw">import</span> com.twitter.util.Duration
<span class="kw">import</span> com.twitter.util.tunable.Tunable

<span class="kw">val</span> client: Http.Client = ???
<span class="kw">val</span> tunableTimeout: Tunable[Duration] = Tunable.const(<span class="lit">"id"</span>, <span class="num">50.</span>milliseconds)
<span class="kw">val</span> builder = client.methodBuilder(<span class="lit">"inet!example.com:80"</span>)
builder.withTimeoutPerRequest(tunableTimeout))</pre></li></ol></div><dt>See also</dt><dd><span class="cmt"><p><span name="withTimeoutTotal(Tunable[Duration])" class="extype">withTimeoutTotal(Tunable[Duration])</span></p></span><span class="cmt"><p>The MethodBuilder section in the
     <a href="https://twitter.github.io/finagle/guide/MethodBuilder.html#timeouts" target="_blank">user guide</a>
     for further details.</p></span></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#withTimeoutPerRequest" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="withTimeoutPerRequest(howLong:com.twitter.util.Duration):com.twitter.finagle.thriftmux.MethodBuilder" class="anchorToMember"></a><a id="withTimeoutPerRequest(Duration):MethodBuilder" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#withTimeoutPerRequest(howLong:com.twitter.util.Duration):com.twitter.finagle.thriftmux.MethodBuilder" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">withTimeoutPerRequest</span><span class="params">(<span name="howLong">howLong: <a href="https://twitter.github.io/util/docs/com/twitter/util/Duration.html#com.twitter.util.Duration" name="com.twitter.util.Duration" id="com.twitter.util.Duration" class="extype">Duration</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a></span></span><p class="shortcomment cmt">How long a <b>single</b> request is given to complete.</p><div class="fullcomment"><div class="comment cmt"><p>How long a <b>single</b> request is given to complete.</p><p>If there are <a href="#withRetryForClassifier(classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.thriftmux.MethodBuilder" name="com.twitter.finagle.thriftmux.MethodBuilder#withRetryForClassifier" id="com.twitter.finagle.thriftmux.MethodBuilder#withRetryForClassifier" class="extmbr">retries</a>, each attempt is given up
to this amount of time.</p><p>If a request does not complete within this time, the response
will be satisfied with a <a href="../IndividualRequestTimeoutException.html" name="com.twitter.finagle.IndividualRequestTimeoutException" id="com.twitter.finagle.IndividualRequestTimeoutException" class="extype">com.twitter.finagle.IndividualRequestTimeoutException</a>.</p><p>Defaults to using the client's configuration for
<span name="com.twitter.finagle.service.TimeoutFilter.Param(timeout)" class="extype">com.twitter.finagle.service.TimeoutFilter.Param(timeout)</span>,
which is typically set via
<a href="../param/CommonParams.html#withRequestTimeout(timeout:com.twitter.util.tunable.Tunable[com.twitter.util.Duration]):A" name="com.twitter.finagle.param.CommonParams#withRequestTimeout" id="com.twitter.finagle.param.CommonParams#withRequestTimeout" class="extmbr">com.twitter.finagle.param.CommonParams.withRequestTimeout</a>.
</p></div><dl class="paramcmts block"><dt class="param">howLong</dt><dd class="cmt"><p>how long, from the initial request issuance,
               an individual attempt given to complete.
               If it is not finite (e.g. <code>Duration.Top</code>),
               no method specific timeout will be applied.</p></dd><dt>returns</dt><dd class="cmt"><p>a new instance with all other settings copied</p></dd></dl><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a> → <a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a></dd><div class="block">Example:<ol><li class="cmt"><p>
For example, a per-request timeout of 50 milliseconds:</p><pre><span class="kw">import</span> com.twitter.conversions.DurationOps._
<span class="kw">import</span> com.twitter.finagle.http.Http
<span class="kw">import</span> com.twitter.util.Duration

<span class="kw">val</span> client: Http.Client = ???
<span class="kw">val</span> builder = client.methodBuilder(<span class="lit">"inet!example.com:80"</span>)
builder.withTimeoutPerRequest(<span class="num">50.</span>milliseconds))</pre></li></ol></div><dt>See also</dt><dd><span class="cmt"><p><span name="withTimeoutTotal(Duration)" class="extype">withTimeoutTotal(Duration)</span></p></span><span class="cmt"><p>The MethodBuilder section in the
     <a href="https://twitter.github.io/finagle/guide/MethodBuilder.html#timeouts" target="_blank">user guide</a>
     for further details.</p></span></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#withTimeoutTotal" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="withTimeoutTotal(howLong:com.twitter.util.tunable.Tunable[com.twitter.util.Duration]):com.twitter.finagle.thriftmux.MethodBuilder" class="anchorToMember"></a><a id="withTimeoutTotal(Tunable[Duration]):MethodBuilder" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#withTimeoutTotal(howLong:com.twitter.util.tunable.Tunable[com.twitter.util.Duration]):com.twitter.finagle.thriftmux.MethodBuilder" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">withTimeoutTotal</span><span class="params">(<span name="howLong">howLong: <a href="https://twitter.github.io/util/docs/com/twitter/util/tunable/Tunable.html#com.twitter.util.tunable.Tunable" name="com.twitter.util.tunable.Tunable" id="com.twitter.util.tunable.Tunable" class="extype">Tunable</a>[<a href="https://twitter.github.io/util/docs/com/twitter/util/Duration.html#com.twitter.util.Duration" name="com.twitter.util.Duration" id="com.twitter.util.Duration" class="extype">Duration</a>]</span>)</span><span class="result">: <a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a></span></span><p class="shortcomment cmt">Set a total timeout with a <span name="Tunable" class="extype">Tunable</span>, including time spent on retries.</p><div class="fullcomment"><div class="comment cmt"><p>Set a total timeout with a <span name="Tunable" class="extype">Tunable</span>, including time spent on retries.</p><p>If the request does not complete in this time, the response
will be satisfied with a <a href="../GlobalRequestTimeoutException.html" name="com.twitter.finagle.GlobalRequestTimeoutException" id="com.twitter.finagle.GlobalRequestTimeoutException" class="extype">com.twitter.finagle.GlobalRequestTimeoutException</a>.</p><p>Defaults to using the client's configuration for
<span name="com.twitter.finagle.service.TimeoutFilter.TotalTimeout(timeout)" class="extype">com.twitter.finagle.service.TimeoutFilter.TotalTimeout(timeout)</span>.
</p></div><dl class="paramcmts block"><dt class="param">howLong</dt><dd class="cmt"><p>how long, from the initial request issuance,
               is the request given to complete.
               If it is not finite (e.g. <code>Duration.Top</code>),
               no method specific timeout will be applied.</p></dd><dt>returns</dt><dd class="cmt"><p>a new instance with all other settings copied</p></dd></dl><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a> → <a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a></dd><div class="block">Example:<ol><li class="cmt"><p>
For example, a total timeout of 200 milliseconds:</p><pre><span class="kw">import</span> com.twitter.conversions.DurationOps._
<span class="kw">import</span> com.twitter.finagle.http.Http
<span class="kw">import</span> com.twitter.util.Duration
<span class="kw">import</span> com.twitter.util.tunable.Tunable

<span class="kw">val</span> client: Http.Client = ???
<span class="kw">val</span> tunableTimeout: Tunable[Duration] = Tunable.const(<span class="lit">"id"</span>, <span class="num">200.</span>milliseconds)
<span class="kw">val</span> builder = client.methodBuilder(<span class="lit">"inet!example.com:80"</span>)
builder.withTimeoutTotal(tunableTimeout))</pre></li></ol></div><dt>See also</dt><dd><span class="cmt"><p><span name="withTimeoutPerRequest(Tunable[Duration])" class="extype">withTimeoutPerRequest(Tunable[Duration])</span></p></span><span class="cmt"><p>The MethodBuilder section in the
     <a href="https://twitter.github.io/finagle/guide/MethodBuilder.html#timeouts" target="_blank">user guide</a>
     for further details.</p></span></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#withTimeoutTotal" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="withTimeoutTotal(howLong:com.twitter.util.Duration):com.twitter.finagle.thriftmux.MethodBuilder" class="anchorToMember"></a><a id="withTimeoutTotal(Duration):MethodBuilder" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#withTimeoutTotal(howLong:com.twitter.util.Duration):com.twitter.finagle.thriftmux.MethodBuilder" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">withTimeoutTotal</span><span class="params">(<span name="howLong">howLong: <a href="https://twitter.github.io/util/docs/com/twitter/util/Duration.html#com.twitter.util.Duration" name="com.twitter.util.Duration" id="com.twitter.util.Duration" class="extype">Duration</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a></span></span><p class="shortcomment cmt">Set a total timeout, including time spent on retries.</p><div class="fullcomment"><div class="comment cmt"><p>Set a total timeout, including time spent on retries.</p><p>If the request does not complete in this time, the response
will be satisfied with a <a href="../GlobalRequestTimeoutException.html" name="com.twitter.finagle.GlobalRequestTimeoutException" id="com.twitter.finagle.GlobalRequestTimeoutException" class="extype">com.twitter.finagle.GlobalRequestTimeoutException</a>.</p><p>Defaults to using the client's configuration for
<span name="com.twitter.finagle.service.TimeoutFilter.TotalTimeout(timeout)" class="extype">com.twitter.finagle.service.TimeoutFilter.TotalTimeout(timeout)</span>.
</p></div><dl class="paramcmts block"><dt class="param">howLong</dt><dd class="cmt"><p>how long, from the initial request issuance,
               is the request given to complete.
               If it is not finite (e.g. <code>Duration.Top</code>),
               no method specific timeout will be applied.</p></dd><dt>returns</dt><dd class="cmt"><p>a new instance with all other settings copied</p></dd></dl><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a> → <a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a></dd><div class="block">Example:<ol><li class="cmt"><p>
For example, a total timeout of 200 milliseconds:</p><pre><span class="kw">import</span> com.twitter.conversions.DurationOps._
<span class="kw">import</span> com.twitter.finagle.http.Http
<span class="kw">import</span> com.twitter.util.Duration

<span class="kw">val</span> client: Http.Client = ???
<span class="kw">val</span> builder = client.methodBuilder(<span class="lit">"inet!example.com:80"</span>)
builder.withTimeoutTotal(<span class="num">200.</span>milliseconds))</pre></li></ol></div><dt>See also</dt><dd><span class="cmt"><p><span name="withTimeoutPerRequest(Duration)" class="extype">withTimeoutPerRequest(Duration)</span></p></span><span class="cmt"><p>The MethodBuilder section in the
     <a href="https://twitter.github.io/finagle/guide/MethodBuilder.html#timeouts" target="_blank">user guide</a>
     for further details.</p></span></dd></dl></div></li></ol></div><div class="values members"><h3>Deprecated Value Members</h3><ol><li class="indented0 " name="com.twitter.finagle.thriftmux.MethodBuilder#newServiceIface" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="newServiceIface[ServiceIface&lt;:com.twitter.finagle.thrift.service.Filterable[ServiceIface]](methodName:String)(implicitbuilder:com.twitter.finagle.thrift.ServiceIfaceBuilder[ServiceIface]):ServiceIface" class="anchorToMember"></a><a id="newServiceIface[ServiceIface&lt;:Filterable[ServiceIface]](String)(ServiceIfaceBuilder[ServiceIface]):ServiceIface" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/thriftmux/MethodBuilder.html#newServiceIface[ServiceIface&lt;:com.twitter.finagle.thrift.service.Filterable[ServiceIface]](methodName:String)(implicitbuilder:com.twitter.finagle.thrift.ServiceIfaceBuilder[ServiceIface]):ServiceIface" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name deprecated" title="Deprecated: (Since version 2017-11-29) Use servicePerEndpoint">newServiceIface</span><span class="tparams">[<span name="ServiceIface">ServiceIface &lt;: <a href="../thrift/service/Filterable.html" name="com.twitter.finagle.thrift.service.Filterable" id="com.twitter.finagle.thrift.service.Filterable" class="extype">Filterable</a>[<span name="com.twitter.finagle.thriftmux.MethodBuilder.newServiceIface.ServiceIface" class="extype">ServiceIface</span>]</span>]</span><span class="params">(<span name="methodName">methodName: <span name="scala.Predef.String" class="extype">String</span></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="builder">builder: <a href="../thrift/ServiceIfaceBuilder.html" name="com.twitter.finagle.thrift.ServiceIfaceBuilder" id="com.twitter.finagle.thrift.ServiceIfaceBuilder" class="extype">ServiceIfaceBuilder</a>[<span name="com.twitter.finagle.thriftmux.MethodBuilder.newServiceIface.ServiceIface" class="extype">ServiceIface</span>]</span>)</span><span class="result">: <span name="com.twitter.finagle.thriftmux.MethodBuilder.newServiceIface.ServiceIface" class="extype">ServiceIface</span></span></span><p class="shortcomment cmt">Construct a <code>ServiceIface</code> to be used for the <code>methodName</code> function.</p><div class="fullcomment"><div class="comment cmt"><p>Construct a <code>ServiceIface</code> to be used for the <code>methodName</code> function.
</p></div><dl class="paramcmts block"><dt class="param">methodName</dt><dd class="cmt"><p>used for scoping metrics (e.g. "clnt/your_client_label/method_name").</p></dd></dl><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@deprecated</span> </dd><dt>Deprecated</dt><dd class="cmt"><p><i>(Since version 2017-11-29)</i> Use servicePerEndpoint</p></dd></dl></div></li></ol></div></div><div id="inheritedMembers"><div name="com.twitter.finagle.client.BaseMethodBuilder" class="parent"><h3>Inherited from <a href="../client/BaseMethodBuilder.html" name="com.twitter.finagle.client.BaseMethodBuilder" id="com.twitter.finagle.client.BaseMethodBuilder" class="extype">BaseMethodBuilder</a>[<a href="" name="com.twitter.finagle.thriftmux.MethodBuilder" id="com.twitter.finagle.thriftmux.MethodBuilder" class="extype">MethodBuilder</a>]</h3></div><div name="scala.AnyRef" class="parent"><h3>Inherited from <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></h3></div><div name="scala.Any" class="parent"><h3>Inherited from <a href="https://www.scala-lang.org/api/2.13.6/scala/Any.html#scala.Any" name="scala.Any" id="scala.Any" class="extype">Any</a></h3></div></div><div id="groupedMembers"><div name="Ungrouped" class="group"><h3>Ungrouped</h3></div></div></div><div id="tooltip"></div><div id="footer"></div></body></div></div></div></body></html>
