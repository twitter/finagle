<!DOCTYPE html ><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><title></title><meta content="" name="description"/><meta content="" name="keywords"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link href="../../../../lib/index.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../lib/print.css" media="print" type="text/css" rel="stylesheet"/><link href="../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css"/><script type="text/javascript" src="../../../../lib/jquery.min.js"></script><script type="text/javascript" src="../../../../lib/index.js"></script><script type="text/javascript" src="../../../../index.js"></script><script type="text/javascript" src="../../../../lib/scheduler.js"></script><script type="text/javascript" src="../../../../lib/template.js"></script><script type="text/javascript">/* this variable can be used by the JS to determine the path to the root document */
var toRoot = '../../../../';</script></head><body><div id="search"><span id="doc-title"><span id="doc-version"></span></span> <span class="close-results"><span class="left">&lt;</span> Back</span><div id="textfilter"><span class="input"><input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/"/><i class="clear material-icons"></i><i id="search-icon" class="material-icons"></i></span></div></div><div id="search-results"><div id="search-progress"><div id="progress-fill"></div></div><div id="results-content"><div id="entity-results"></div><div id="member-results"></div></div></div><div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;"><div id="content-container" style="-webkit-overflow-scrolling: touch;"><div id="subpackage-spacer"><div id="packages"><h1>Packages</h1><ul><li class="indented0 " name="_root_.root" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="_root_" class="anchorToMember"></a><a id="root:_root_" class="anchorToMember"></a> <span class="permalink"><a href="../../../../index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../index.html" title=""><span class="name">root</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented1 " name="_root_.com" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="com" class="anchorToMember"></a><a id="com:com" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../index.html" title=""><span class="name">com</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented2 " name="com.twitter" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="twitter" class="anchorToMember"></a><a id="twitter:twitter" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../index.html" title="Start with com.twitter.finagle."><span class="name">twitter</span></a></span><p class="shortcomment cmt">Start with <a href="../index.html" name="com.twitter.finagle" id="com.twitter.finagle" class="extype">com.twitter.finagle</a>.</p><div class="fullcomment"><div class="comment cmt"><p>Start with <a href="../index.html" name="com.twitter.finagle" id="com.twitter.finagle" class="extype">com.twitter.finagle</a>.</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="com" id="com" class="extype">com</a></dd></dl></div></li><li class="indented3 " name="com.twitter.finagle" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="finagle" class="anchorToMember"></a><a id="finagle:finagle" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../index.html" title="Finagle is an extensible RPC system."><span class="name">finagle</span></a></span><p class="shortcomment cmt">Finagle is an extensible RPC system.</p><div class="fullcomment"><div class="comment cmt"><p>Finagle is an extensible RPC system.</p><p>Services are represented by class <a href="../Service.html" name="com.twitter.finagle.Service" id="com.twitter.finagle.Service" class="extype">com.twitter.finagle.Service</a>. Clients make use of
<a href="../Service.html" name="com.twitter.finagle.Service" id="com.twitter.finagle.Service" class="extype">com.twitter.finagle.Service</a> objects while servers implement them.</p><p>Finagle contains a number of protocol implementations; each of these implement
<a href="../Client.html" name="com.twitter.finagle.Client" id="com.twitter.finagle.Client" class="extype">Client</a> and/or <a href="../Server.html" name="com.twitter.finagle.Server" id="com.twitter.finagle.Server" class="extype">com.twitter.finagle.Server</a>. For example, Finagle's
HTTP implementation, <a href="../Http$.html" name="com.twitter.finagle.Http" id="com.twitter.finagle.Http" class="extype">com.twitter.finagle.Http</a> (in package <code>finagle-http</code>), exposes both.</p><p>Thus a simple HTTP server is built like this:</p><pre><span class="kw">import</span> com.twitter.finagle.{Http, Service}
<span class="kw">import</span> com.twitter.finagle.http.{Request, Response}
<span class="kw">import</span> com.twitter.util.{Await, Future}

<span class="kw">val</span> service = <span class="kw">new</span> Service[Request, Response] {
  <span class="kw">def</span> apply(req: Request): Future[Response] =
    Future.value(Response())
}
<span class="kw">val</span> server = Http.server.serve(<span class="lit">":8080"</span>, service)
Await.ready(server)</pre><p>We first define a service to which requests are dispatched. In this case, the service returns
immediately with a HTTP 200 OK response, and with no content.</p><p>This service is then served via the Http protocol on TCP port 8080. Finally we wait for the server
to stop serving.</p><p>We can now query our web server:</p><pre>% curl -D - localhost:<span class="num">8080</span>
HTTP/<span class="num">1.1</span> <span class="num">200</span> OK</pre><p>Building an HTTP client is also simple. (Note that type annotations are added for illustration.)</p><pre><span class="kw">import</span> com.twitter.finagle.{Http, Service}
<span class="kw">import</span> com.twitter.finagle.http.{Request, Response}
<span class="kw">import</span> com.twitter.util.{Future, Return, Throw}

<span class="kw">val</span> client: Service[Request, Response] = Http.client.newService(<span class="lit">"localhost:8080"</span>)
<span class="kw">val</span> f: Future[Response] = client(Request()).respond {
  <span class="kw">case</span> Return(rep) <span class="kw">=&gt;</span>
    printf(<span class="lit">"Got HTTP response %s\n"</span>, rep)
  <span class="kw">case</span> Throw(exc) <span class="kw">=&gt;</span>
    printf(<span class="lit">"Got error %s\n"</span>, exc)
}</pre><p><code>Http.client.newService("localhost:8080")</code> constructs a new <a href="../Service.html" name="com.twitter.finagle.Service" id="com.twitter.finagle.Service" class="extype">com.twitter.finagle.Service</a> instance
connected to localhost TCP port 8080. We then issue a HTTP/1.1 GET request to URI "/". The service
returns a <a href="https://twitter.github.io/util/docs/com/twitter/util/Future.html" name="com.twitter.util.Future" id="com.twitter.util.Future" class="extype">com.twitter.util.Future</a> representing the result of the operation. We listen to this
future, printing an appropriate message when the response arrives.</p><p>The <a href="https://twitter.github.io/finagle/" target="_blank">Finagle homepage</a> contains useful documentation and
resources for using Finagle.
</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../index.html" name="com.twitter" id="com.twitter" class="extype">twitter</a></dd></dl></div></li><li class="indented4 " name="com.twitter.finagle.client" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="client" class="anchorToMember"></a><a id="client:client" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="index.html" title=""><span class="name">client</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="com.twitter.finagle" id="com.twitter.finagle" class="extype">finagle</a></dd></dl></div></li><li class="current-entities indented4"><span class="separator"></span> <a href="AddrMetadataExtraction$.html" title="Extraction of com.twitter.finagle.Addr.Metadata from a com.twitter.finagle.factory.LoadBalancerFactory.Dest" class="object"></a><a href="AddrMetadataExtraction$.html" title="Extraction of com.twitter.finagle.Addr.Metadata from a com.twitter.finagle.factory.LoadBalancerFactory.Dest">AddrMetadataExtraction</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="BackupRequestFilter$.html" title="" class="object"></a><a href="BackupRequestFilter$.html" title="">BackupRequestFilter</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="BaseMethodBuilder.html" title="A base interface for protocol-specific MethodBuilder implementations." class="trait"></a><a href="BaseMethodBuilder.html" title="A base interface for protocol-specific MethodBuilder implementations.">BaseMethodBuilder</a></li><li class="current-entities indented4"><a href="DefaultPool$.html" title="" class="object"></a> <a href="DefaultPool.html" title="Create a watermark pool backed by a caching pool." class="class"></a><a href="DefaultPool.html" title="Create a watermark pool backed by a caching pool.">DefaultPool</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="DynamicTimeout$.html" title="Used for the creation of Stack modules that have dynamic timeouts." class="object"></a><a href="DynamicTimeout$.html" title="Used for the creation of Stack modules that have dynamic timeouts.">DynamicTimeout</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="EndpointerModule.html" title="A module that hooks in a ServiceFactory that directly makes connections, intended to be used as the last ServiceFactory in the stack, the endpointer." class="class"></a><a href="EndpointerModule.html" title="A module that hooks in a ServiceFactory that directly makes connections, intended to be used as the last ServiceFactory in the stack, the endpointer.">EndpointerModule</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="EndpointerStackClient.html" title="The standard template implementation for com.twitter.finagle.client.StackClient." class="trait"></a><a href="EndpointerStackClient.html" title="The standard template implementation for com.twitter.finagle.client.StackClient.">EndpointerStackClient</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="LatencyCompensation$.html" title="Latency compensation enables the modification of connection, request, and session acquisition timeouts on a per-endpoint basis." class="object"></a><a href="LatencyCompensation$.html" title="Latency compensation enables the modification of connection, request, and session acquisition timeouts on a per-endpoint basis.">LatencyCompensation</a></li><li class="current-entities indented4"><a href="MethodBuilder$.html" title="" class="object"></a> <a href="" title="" class="class"></a><a href="" title="">MethodBuilder</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="ServicePerEndpointBuilder.html" title="ServicePerEndpointBuilder creates ServicePerEndpoint typed interfaces from underlying Service[Req, Rep] typed services." class="trait"></a><a href="ServicePerEndpointBuilder.html" title="ServicePerEndpointBuilder creates ServicePerEndpoint typed interfaces from underlying Service[Req, Rep] typed services.">ServicePerEndpointBuilder</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="StackBasedClient.html" title="A Client that may have its Stack transformed." class="trait"></a><a href="StackBasedClient.html" title="A Client that may have its Stack transformed.">StackBasedClient</a></li><li class="current-entities indented4"><a href="StackClient$.html" title="" class="object"></a> <a href="StackClient.html" title="A Client that composes a Stack." class="trait"></a><a href="StackClient.html" title="A Client that composes a Stack.">StackClient</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="StatsScoping$.html" title="Stats scoping enabled the modification of the StatsReceiver scoping on a per-endpoint basis." class="object"></a><a href="StatsScoping$.html" title="Stats scoping enabled the modification of the StatsReceiver scoping on a per-endpoint basis.">StatsScoping</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="StdStackClient.html" title="" class="trait"></a><a href="StdStackClient.html" title="">StdStackClient</a></li><li class="current-entities indented4"><a href="Transporter$.html" title="A collection of Stack.Params useful for configuring a com.twitter.finagle.client.Transporter." class="object"></a> <a href="Transporter.html" title="Transporters construct a Future[Transport[In, Out, Context]]." class="trait"></a><a href="Transporter.html" title="Transporters construct a Future[Transport[In, Out, Context]].">Transporter</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="useNackAdmissionFilter$.html" title="" class="object"></a><a href="useNackAdmissionFilter$.html" title="">useNackAdmissionFilter</a></li></ul></div></div><div id="content"><body class="class type"><div id="definition"><a href="MethodBuilder$.html" title="See companion object"><div class="big-circle class-companion-object">c</div></a><p id="owner"><a href="../../../index.html" name="com" id="com" class="extype">com</a>.<a href="../../index.html" name="com.twitter" id="com.twitter" class="extype">twitter</a>.<a href="../index.html" name="com.twitter.finagle" id="com.twitter.finagle" class="extype">finagle</a>.<a href="index.html" name="com.twitter.finagle.client" id="com.twitter.finagle.client" class="extype">client</a></p><h1><a href="MethodBuilder$.html" title="See companion object">MethodBuilder</a><span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html" title="Permalink"><i class="material-icons"></i></a></span></h1><h3><span class="morelinks"><div>Companion <a href="MethodBuilder$.html" title="See companion object">object MethodBuilder</a></div></span></h3></div><h4 id="signature" class="signature"><span class="modifier_kind"><span class="modifier">final </span> <span class="kind">class</span></span> <span class="symbol"><span class="name">MethodBuilder</span><span class="tparams">[<span name="Req">Req</span>, <span name="Rep">Rep</span>]</span><span class="result"> extends <a href="../Stack$$Parameterized.html" name="com.twitter.finagle.Stack.Parameterized" id="com.twitter.finagle.Stack.Parameterized" class="extype">Parameterized</a>[<a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]]</span></span></h4><div id="comment" class="fullcommenttop"><div class="comment cmt"></div><dl class="attributes block"><dt>Self Type</dt><dd><a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</dd><dt>See also</dt><dd><span class="cmt"><p><code>methodBuilder</code> methods on client protocols, such as <code>Http.Client</code>
     or <code>ThriftMux.Client</code> for an entry point.</p></span><span class="cmt"><p><a href="https://twitter.github.io/finagle/guide/MethodBuilder.html" target="_blank">user guide</a></p></span></dd></dl><div class="toggleContainer"><div class="toggle block"><span>Linear Supertypes</span><div class="superTypes hiddenContent"><a href="../Stack$$Parameterized.html" name="com.twitter.finagle.Stack.Parameterized" id="com.twitter.finagle.Stack.Parameterized" class="extype">Parameterized</a>[<a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]], <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a>, <a href="https://www.scala-lang.org/api/2.13.6/scala/Any.html#scala.Any" name="scala.Any" id="scala.Any" class="extype">Any</a></div></div></div></div><div id="mbrsel"><div class="toggle"></div><div id="memberfilter"><i class="material-icons arrow"></i><span class="input"><input placeholder="Filter all members" id="mbrsel-input" type="text" accesskey="/"/></span><i class="clear material-icons"></i></div><div id="filterby"><div id="order"><span class="filtertype">Ordering</span><ol><li class="alpha in"><span>Alphabetic</span></li><li class="inherit out"><span>By Inheritance</span></li></ol></div><div class="ancestors"><span class="filtertype">Inherited<br/></span><ol id="linearization"><li class="in" name="com.twitter.finagle.client.MethodBuilder"><span>MethodBuilder</span></li><li class="in" name="com.twitter.finagle.Stack.Parameterized"><span>Parameterized</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li></ol></div><div class="ancestors"><span class="filtertype"></span><ol><li class="hideall out"><span>Hide All</span></li><li class="showall in"><span>Show All</span></li></ol></div><div id="visbl"><span class="filtertype">Visibility</span><ol><li class="public in"><span>Public</span></li><li class="protected out"><span>Protected</span></li></ol></div></div></div><div id="template"><div id="allMembers"><div class="values members"><h3>Value Members</h3><ol><li class="indented0 " name="scala.AnyRef#!=" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="!=(x$1:Any):Boolean" class="anchorToMember"></a><a id="!=(Any):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#!=(x$1:Any):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name" title="gt4s: $bang$eq">!=</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/Any.html#scala.Any" name="scala.Any" id="scala.Any" class="extype">Any</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef###" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="##:Int" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html###:Int" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name" title="gt4s: $hash$hash">##</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Int.html#scala.Int" name="scala.Int" id="scala.Int" class="extype">Int</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#==" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="==(x$1:Any):Boolean" class="anchorToMember"></a><a id="==(Any):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#==(x$1:Any):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name" title="gt4s: $eq$eq">==</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/Any.html#scala.Any" name="scala.Any" id="scala.Any" class="extype">Any</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.Any#asInstanceOf" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="asInstanceOf[T0]:T0" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#asInstanceOf[T0]:T0" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">asInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span name="scala.Any.asInstanceOf.T0" class="extype">T0</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#clone" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="prt"><a id="clone():Object" class="anchorToMember"></a><a id="clone():AnyRef" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#clone():Object" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">clone</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Attributes</dt><dd>protected[<span name="java.lang" class="extype">lang</span>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.CloneNotSupportedException]</span></span>)</span> <span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.Stack.Parameterized#configured" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="configured[P](psp:(P,com.twitter.finagle.Stack.Param[P])):T" class="anchorToMember"></a><a id="configured[P]((P,Param[P])):MethodBuilder[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#configured[P](psp:(P,com.twitter.finagle.Stack.Param[P])):T" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">configured</span><span class="tparams">[<span name="P">P</span>]</span><span class="params">(<span name="psp">psp: (<span name="com.twitter.finagle.Stack.Parameterized.configured.P" class="extype">P</span>, <a href="../Stack$$Param.html" name="com.twitter.finagle.Stack.Param" id="com.twitter.finagle.Stack.Param" class="extype">Param</a>[<span name="com.twitter.finagle.Stack.Parameterized.configured.P" class="extype">P</span>])</span>)</span><span class="result">: <a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Java friendly API for <code>configured</code>.</p><div class="fullcomment"><div class="comment cmt"><p>Java friendly API for <code>configured</code>.</p><p>The <code>Tuple2</code> can often be created by calls to a <code>mk(): (P, Stack.Param[P])</code>
method on parameters (see
<span name="com.twitter.finagle.loadbalancer.LoadBalancerFactory.Param.mk()" class="extype">com.twitter.finagle.loadbalancer.LoadBalancerFactory.Param.mk()</span>
as an example).
</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../Stack$$Parameterized.html" name="com.twitter.finagle.Stack.Parameterized" id="com.twitter.finagle.Stack.Parameterized" class="extype">Parameterized</a></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.Stack.Parameterized#configured" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="configured[P](p:P)(implicitsp:com.twitter.finagle.Stack.Param[P]):T" class="anchorToMember"></a><a id="configured[P](P)(Param[P]):MethodBuilder[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#configured[P](p:P)(implicitsp:com.twitter.finagle.Stack.Param[P]):T" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">configured</span><span class="tparams">[<span name="P">P</span>]</span><span class="params">(<span name="p">p: <span name="com.twitter.finagle.Stack.Parameterized.configured.P" class="extype">P</span></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="sp">sp: <a href="../Stack$$Param.html" name="com.twitter.finagle.Stack.Param" id="com.twitter.finagle.Stack.Param" class="extype">Param</a>[<span name="com.twitter.finagle.Stack.Parameterized.configured.P" class="extype">P</span>]</span>)</span><span class="result">: <a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Add the parameter, <code>p</code>, to the current <span name="Params" class="extype">Params</span>.</p><div class="fullcomment"><div class="comment cmt"><p>Add the parameter, <code>p</code>, to the current <span name="Params" class="extype">Params</span>.</p><p>Java users may find it easier to use the <code>Tuple2</code> version below.
</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../Stack$$Parameterized.html" name="com.twitter.finagle.Stack.Parameterized" id="com.twitter.finagle.Stack.Parameterized" class="extype">Parameterized</a></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.Stack.Parameterized#configuredParams" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="configuredParams(newParams:com.twitter.finagle.Stack.Params):T" class="anchorToMember"></a><a id="configuredParams(Params):MethodBuilder[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#configuredParams(newParams:com.twitter.finagle.Stack.Params):T" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">configuredParams</span><span class="params">(<span name="newParams">newParams: <a href="../Stack$$Params.html" name="com.twitter.finagle.Stack.Params" id="com.twitter.finagle.Stack.Params" class="extype">Params</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Adds all parameters, <code>newParams</code>, to the current <span name="Params" class="extype">Params</span>.</p><div class="fullcomment"><div class="comment cmt"><p>Adds all parameters, <code>newParams</code>, to the current <span name="Params" class="extype">Params</span>.
</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../Stack$$Parameterized.html" name="com.twitter.finagle.Stack.Parameterized" id="com.twitter.finagle.Stack.Parameterized" class="extype">Parameterized</a></dd></dl></div></li><li class="indented0 " name="scala.AnyRef#eq" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="eq(x$1:AnyRef):Boolean" class="anchorToMember"></a><a id="eq(AnyRef):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#eq(x$1:AnyRef):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">eq</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#equals" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="equals(x$1:Object):Boolean" class="anchorToMember"></a><a id="equals(AnyRef):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#equals(x$1:Object):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">equals</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#finalize" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="prt"><a id="finalize():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#finalize():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">finalize</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Attributes</dt><dd>protected[<span name="java.lang" class="extype">lang</span>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="symbol">classOf[java.lang.Throwable]</span></span>)</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#getClass" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="getClass():Class[_]" class="anchorToMember"></a><a id="getClass():Class[_&lt;:AnyRef]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#getClass():Class[_]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">getClass</span><span class="params">()</span><span class="result">: <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#java.lang.Class" name="java.lang.Class" id="java.lang.Class" class="extype">Class</a>[_ &lt;: <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a>]</span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#hashCode" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="hashCode():Int" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#hashCode():Int" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">hashCode</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Int.html#scala.Int" name="scala.Int" id="scala.Int" class="extype">Int</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#idempotent" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="idempotent(maxExtraLoad:com.twitter.util.tunable.Tunable[Double],sendInterrupts:Boolean,classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.client.MethodBuilder[Req,Rep]" class="anchorToMember"></a><a id="idempotent(Tunable[Double],Boolean,ResponseClassifier):MethodBuilder[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#idempotent(maxExtraLoad:com.twitter.util.tunable.Tunable[Double],sendInterrupts:Boolean,classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.client.MethodBuilder[Req,Rep]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">idempotent</span><span class="params">(<span name="maxExtraLoad">maxExtraLoad: <a href="https://twitter.github.io/util/docs/com/twitter/util/tunable/Tunable.html#com.twitter.util.tunable.Tunable" name="com.twitter.util.tunable.Tunable" id="com.twitter.util.tunable.Tunable" class="extype">Tunable</a>[<a href="https://www.scala-lang.org/api/2.13.6/scala/Double.html#scala.Double" name="scala.Double" id="scala.Double" class="extype">Double</a>]</span>, <span name="sendInterrupts">sendInterrupts: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span>, <span name="classifier">classifier: <a href="../service/index.html#ResponseClassifier=PartialFunction[com.twitter.finagle.service.ReqRep,com.twitter.finagle.service.ResponseClass]" name="com.twitter.finagle.service.ResponseClassifier" id="com.twitter.finagle.service.ResponseClassifier" class="extmbr">ResponseClassifier</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Configure that requests are to be treated as idempotent.</p><div class="fullcomment"><div class="comment cmt"><p>Configure that requests are to be treated as idempotent. Because requests can be safely
retried, <span name="BackupRequestFilter" class="extype">BackupRequestFilter</span> is configured with the params maxExtraLoad and
sendInterrupts to decrease tail latency by sending an additional fraction of requests.
</p></div><dl class="paramcmts block"><dt class="param">maxExtraLoad</dt><dd class="cmt"><p>How much extra load, as a fraction, we are willing to send to the server.
                    Must be between 0.0 and 1.0.</p></dd><dt class="param">sendInterrupts</dt><dd class="cmt"><p>Whether or not to interrupt the original or backup request when a response
                      is returned and the result of the outstanding request is superseded. For
                      protocols without a control plane, where the connection is cut on
                      interrupts, this should be "false" to avoid connection churn.</p></dd><dt class="param">classifier</dt><dd class="cmt"><p><span name="ResponseClassifier" class="extype">ResponseClassifier</span> (combined (via <span name="ResponseClassifier.orElse" class="extype">ResponseClassifier.orElse</span>)
                  with any existing classifier in the stack params), used for determining
                  whether or not requests have succeeded and should be retried.
                  These determinations are also reflected in stats, and used by
                  <span name="FailureAccrualFactory" class="extype">FailureAccrualFactory</span>.</p></dd></dl><dl class="attributes block"><dt>Note</dt><dd><span class="cmt"><p>See <code>idempotent</code> above for note about low QPS clients and maxExtraLoad</p></span></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#idempotent" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="idempotent(maxExtraLoad:com.twitter.util.tunable.Tunable[Double],sendInterrupts:Boolean,minSendBackupAfterMs:Int,classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.client.MethodBuilder[Req,Rep]" class="anchorToMember"></a><a id="idempotent(Tunable[Double],Boolean,Int,ResponseClassifier):MethodBuilder[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#idempotent(maxExtraLoad:com.twitter.util.tunable.Tunable[Double],sendInterrupts:Boolean,minSendBackupAfterMs:Int,classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.client.MethodBuilder[Req,Rep]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">idempotent</span><span class="params">(<span name="maxExtraLoad">maxExtraLoad: <a href="https://twitter.github.io/util/docs/com/twitter/util/tunable/Tunable.html#com.twitter.util.tunable.Tunable" name="com.twitter.util.tunable.Tunable" id="com.twitter.util.tunable.Tunable" class="extype">Tunable</a>[<a href="https://www.scala-lang.org/api/2.13.6/scala/Double.html#scala.Double" name="scala.Double" id="scala.Double" class="extype">Double</a>]</span>, <span name="sendInterrupts">sendInterrupts: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span>, <span name="minSendBackupAfterMs">minSendBackupAfterMs: <a href="https://www.scala-lang.org/api/2.13.6/scala/Int.html#scala.Int" name="scala.Int" id="scala.Int" class="extype">Int</a></span>, <span name="classifier">classifier: <a href="../service/index.html#ResponseClassifier=PartialFunction[com.twitter.finagle.service.ReqRep,com.twitter.finagle.service.ResponseClass]" name="com.twitter.finagle.service.ResponseClassifier" id="com.twitter.finagle.service.ResponseClassifier" class="extmbr">ResponseClassifier</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Configure that requests are to be treated as idempotent.</p><div class="fullcomment"><div class="comment cmt"><p>Configure that requests are to be treated as idempotent. Because requests can be safely
retried, <span name="BackupRequestFilter" class="extype">BackupRequestFilter</span> is configured with the params <code>maxExtraLoad</code> and
<code>sendInterrupts</code> to decrease tail latency by sending an additional fraction of requests.</p><p>If you are using TwitterServer, a good starting point for determining a value for
<code>maxExtraLoad</code> is looking at the details of the PDF histogram for request latency,
at /admin/histograms. If you choose a <code>maxExtraLoad</code> of 1.percent, for example, you can expect
your p999/p9999 latencies to (roughly) now be that of your p99 latency. For 5.percent, those
latencies would shift to your p95 latency. You should also ensure that your backend can
tolerate the increased load.
</p></div><dl class="paramcmts block"><dt class="param">maxExtraLoad</dt><dd class="cmt"><p>How much extra load, as a <span name="Tunable" class="extype">Tunable</span> fraction, we are willing to send to
                    the server. Must be between 0.0 and 1.0.</p></dd><dt class="param">sendInterrupts</dt><dd class="cmt"><p>Whether or not to interrupt the original or backup request when a response
                      is returned and the result of the outstanding request is superseded. For
                      protocols without a control plane, where the connection is cut on
                      interrupts, this should be "false" to avoid connection churn.</p></dd><dt class="param">minSendBackupAfterMs</dt><dd class="cmt"><p>Use a minimum non-zero delay to prevent sending unnecessary backup requests
                            immediately for services where the latency at the percentile where a
                            backup will be sent is ~0ms.</p></dd><dt class="param">classifier</dt><dd class="cmt"><p><span name="ResponseClassifier" class="extype">ResponseClassifier</span> (combined (via <span name="ResponseClassifier.orElse" class="extype">ResponseClassifier.orElse</span>)
                  with any existing classifier in the stack params), used for determining
                  whether or not requests have succeeded and should be retried.
                  These determinations are also reflected in stats, and used by
                  <span name="FailureAccrualFactory" class="extype">FailureAccrualFactory</span>.</p></dd></dl><dl class="attributes block"><dt>Note</dt><dd><span class="cmt"><p>See <code>idempotent</code> above for note about low QPS clients and maxExtraLoad</p></span></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#idempotent" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="idempotent(maxExtraLoad:Double,sendInterrupts:Boolean,classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.client.MethodBuilder[Req,Rep]" class="anchorToMember"></a><a id="idempotent(Double,Boolean,ResponseClassifier):MethodBuilder[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#idempotent(maxExtraLoad:Double,sendInterrupts:Boolean,classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.client.MethodBuilder[Req,Rep]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">idempotent</span><span class="params">(<span name="maxExtraLoad">maxExtraLoad: <a href="https://www.scala-lang.org/api/2.13.6/scala/Double.html#scala.Double" name="scala.Double" id="scala.Double" class="extype">Double</a></span>, <span name="sendInterrupts">sendInterrupts: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span>, <span name="classifier">classifier: <a href="../service/index.html#ResponseClassifier=PartialFunction[com.twitter.finagle.service.ReqRep,com.twitter.finagle.service.ResponseClass]" name="com.twitter.finagle.service.ResponseClassifier" id="com.twitter.finagle.service.ResponseClassifier" class="extmbr">ResponseClassifier</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Configure that requests are to be treated as idempotent.</p><div class="fullcomment"><div class="comment cmt"><p>Configure that requests are to be treated as idempotent. Because requests can be safely
retried, <span name="BackupRequestFilter" class="extype">BackupRequestFilter</span> is configured with the params maxExtraLoad and
sendInterrupts to decrease tail latency by sending an additional fraction of requests.
</p></div><dl class="paramcmts block"><dt class="param">maxExtraLoad</dt><dd class="cmt"><p>How much extra load, as a fraction, we are willing to send to the server.
                    Must be between 0.0 and 1.0.</p></dd><dt class="param">sendInterrupts</dt><dd class="cmt"><p>Whether or not to interrupt the original or backup request when a response
                      is returned and the result of the outstanding request is superseded. For
                      protocols without a control plane, where the connection is cut on
                      interrupts, this should be "false" to avoid connection churn.</p></dd><dt class="param">classifier</dt><dd class="cmt"><p><span name="ResponseClassifier" class="extype">ResponseClassifier</span> (combined (via <span name="ResponseClassifier.orElse" class="extype">ResponseClassifier.orElse</span>)
                  with any existing classifier in the stack params), used for determining
                  whether or not requests have succeeded and should be retried.
                  These determinations are also reflected in stats, and used by
                  <span name="FailureAccrualFactory" class="extype">FailureAccrualFactory</span>.</p></dd></dl><dl class="attributes block"><dt>Note</dt><dd><span class="cmt"><p>See <code>idempotent</code> above for note about low QPS clients and maxExtraLoad</p></span></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#idempotent" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="idempotent(maxExtraLoad:Double,sendInterrupts:Boolean,minSendBackupAfterMs:Int,classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.client.MethodBuilder[Req,Rep]" class="anchorToMember"></a><a id="idempotent(Double,Boolean,Int,ResponseClassifier):MethodBuilder[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#idempotent(maxExtraLoad:Double,sendInterrupts:Boolean,minSendBackupAfterMs:Int,classifier:com.twitter.finagle.service.ResponseClassifier):com.twitter.finagle.client.MethodBuilder[Req,Rep]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">idempotent</span><span class="params">(<span name="maxExtraLoad">maxExtraLoad: <a href="https://www.scala-lang.org/api/2.13.6/scala/Double.html#scala.Double" name="scala.Double" id="scala.Double" class="extype">Double</a></span>, <span name="sendInterrupts">sendInterrupts: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span>, <span name="minSendBackupAfterMs">minSendBackupAfterMs: <a href="https://www.scala-lang.org/api/2.13.6/scala/Int.html#scala.Int" name="scala.Int" id="scala.Int" class="extype">Int</a></span>, <span name="classifier">classifier: <a href="../service/index.html#ResponseClassifier=PartialFunction[com.twitter.finagle.service.ReqRep,com.twitter.finagle.service.ResponseClass]" name="com.twitter.finagle.service.ResponseClassifier" id="com.twitter.finagle.service.ResponseClassifier" class="extmbr">ResponseClassifier</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Configure that requests are to be treated as idempotent.</p><div class="fullcomment"><div class="comment cmt"><p>Configure that requests are to be treated as idempotent. Because requests can be safely
retried, <span name="BackupRequestFilter" class="extype">BackupRequestFilter</span> is configured with the params <code>maxExtraLoad</code> and
<code>sendInterrupts</code> to decrease tail latency by sending an additional fraction of requests.
</p></div><dl class="paramcmts block"><dt class="param">maxExtraLoad</dt><dd class="cmt"><p>How much extra load, as a fraction, we are willing to send to the server.
                    Must be between 0.0 and 1.0.</p></dd><dt class="param">sendInterrupts</dt><dd class="cmt"><p>Whether or not to interrupt the original or backup request when a response
                      is returned and the result of the outstanding request is superseded. For
                      protocols without a control plane, where the connection is cut on
                      interrupts, this should be "false" to avoid connection churn.</p></dd><dt class="param">minSendBackupAfterMs</dt><dd class="cmt"><p>Use a minimum non-zero delay to prevent sending unnecessary backup requests
                            immediately for services where the latency at the percentile where a
                            backup will be sent is ~0ms.</p></dd><dt class="param">classifier</dt><dd class="cmt"><p><span name="ResponseClassifier" class="extype">ResponseClassifier</span> (combined (via <span name="ResponseClassifier.orElse" class="extype">ResponseClassifier.orElse</span>)
                  with any existing classifier in the stack params), used for determining
                  whether or not requests have succeeded and should be retried.
                  These determinations are also reflected in stats, and used by
                  <span name="FailureAccrualFactory" class="extype">FailureAccrualFactory</span>.</p></dd></dl><dl class="attributes block"><dt>Note</dt><dd><span class="cmt"><p>Clients using a maxExtraLoad of 1% will need to get at least 10 QPS in order for any
backups to be sent at all because the BackupRequestFilter's retryBudget has a TTL of 10 seconds
for deposits (that is, 100 requests need to occur within 10 seconds before a single backup is
allowed). The maxExtraLoad can be increased for these clients if they hope to see backups at
lower QPS rates.</p></span>, <span class="cmt"><p>See <code>idempotent</code> below for a version that takes a <span name="Tunable[Double" class="extype">Tunable[Double</span>] for <code>maxExtraLoad</code>.</p></span></dd></dl></div></li><li class="indented0 " name="scala.Any#isInstanceOf" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="isInstanceOf[T0]:Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#isInstanceOf[T0]:Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">isInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>Any</dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#methodPool" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="methodPool:com.twitter.finagle.client.MethodPool[Req,Rep]" class="anchorToMember"></a><a id="methodPool:MethodPool[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#methodPool:com.twitter.finagle.client.MethodPool[Req,Rep]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">val</span></span> <span class="symbol"><span class="name">methodPool</span><span class="result">: <span name="com.twitter.finagle.client.MethodPool" class="extype">MethodPool</span>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span></li><li class="indented0 " name="scala.AnyRef#ne" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="ne(x$1:AnyRef):Boolean" class="anchorToMember"></a><a id="ne(AnyRef):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#ne(x$1:AnyRef):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">ne</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#newService" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="newService:com.twitter.finagle.Service[Req,Rep]" class="anchorToMember"></a><a id="newService:Service[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#newService:com.twitter.finagle.Service[Req,Rep]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">newService</span><span class="result">: <a href="../Service.html" name="com.twitter.finagle.Service" id="com.twitter.finagle.Service" class="extype">Service</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Create a <a href="../Service.html" name="com.twitter.finagle.Service" id="com.twitter.finagle.Service" class="extype">Service</a> from the current configuration.</p></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#newService" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="newService(methodName:String):com.twitter.finagle.Service[Req,Rep]" class="anchorToMember"></a><a id="newService(String):Service[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#newService(methodName:String):com.twitter.finagle.Service[Req,Rep]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">newService</span><span class="params">(<span name="methodName">methodName: <span name="scala.Predef.String" class="extype">String</span></span>)</span><span class="result">: <a href="../Service.html" name="com.twitter.finagle.Service" id="com.twitter.finagle.Service" class="extype">Service</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Create a <a href="../Service.html" name="com.twitter.finagle.Service" id="com.twitter.finagle.Service" class="extype">Service</a> from the current configuration.</p></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#newServicePerEndpoint" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="newServicePerEndpoint[ServicePerEndpoint&lt;:com.twitter.finagle.service.Filterable[ServicePerEndpoint]](builder:com.twitter.finagle.client.ServicePerEndpointBuilder[Req,Rep,ServicePerEndpoint],methodName:String):ServicePerEndpoint" class="anchorToMember"></a><a id="newServicePerEndpoint[ServicePerEndpoint&lt;:Filterable[ServicePerEndpoint]](ServicePerEndpointBuilder[Req,Rep,ServicePerEndpoint],String):ServicePerEndpoint" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#newServicePerEndpoint[ServicePerEndpoint&lt;:com.twitter.finagle.service.Filterable[ServicePerEndpoint]](builder:com.twitter.finagle.client.ServicePerEndpointBuilder[Req,Rep,ServicePerEndpoint],methodName:String):ServicePerEndpoint" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">newServicePerEndpoint</span><span class="tparams">[<span name="ServicePerEndpoint">ServicePerEndpoint &lt;: <a href="../service/Filterable.html" name="com.twitter.finagle.service.Filterable" id="com.twitter.finagle.service.Filterable" class="extype">Filterable</a>[<span name="com.twitter.finagle.client.MethodBuilder.newServicePerEndpoint.ServicePerEndpoint" class="extype">ServicePerEndpoint</span>]</span>]</span><span class="params">(<span name="builder">builder: <a href="ServicePerEndpointBuilder.html" name="com.twitter.finagle.client.ServicePerEndpointBuilder" id="com.twitter.finagle.client.ServicePerEndpointBuilder" class="extype">ServicePerEndpointBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>, <span name="com.twitter.finagle.client.MethodBuilder.newServicePerEndpoint.ServicePerEndpoint" class="extype">ServicePerEndpoint</span>]</span>, <span name="methodName">methodName: <span name="scala.Predef.String" class="extype">String</span></span>)</span><span class="result">: <span name="com.twitter.finagle.client.MethodBuilder.newServicePerEndpoint.ServicePerEndpoint" class="extype">ServicePerEndpoint</span></span></span><p class="shortcomment cmt">Create a <span name="ServicePerEndpoint" class="extype">ServicePerEndpoint</span> from the current configuration.</p></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#newServicePerEndpoint" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="newServicePerEndpoint[ServicePerEndpoint&lt;:com.twitter.finagle.service.Filterable[ServicePerEndpoint]](builder:com.twitter.finagle.client.ServicePerEndpointBuilder[Req,Rep,ServicePerEndpoint]):ServicePerEndpoint" class="anchorToMember"></a><a id="newServicePerEndpoint[ServicePerEndpoint&lt;:Filterable[ServicePerEndpoint]](ServicePerEndpointBuilder[Req,Rep,ServicePerEndpoint]):ServicePerEndpoint" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#newServicePerEndpoint[ServicePerEndpoint&lt;:com.twitter.finagle.service.Filterable[ServicePerEndpoint]](builder:com.twitter.finagle.client.ServicePerEndpointBuilder[Req,Rep,ServicePerEndpoint]):ServicePerEndpoint" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">newServicePerEndpoint</span><span class="tparams">[<span name="ServicePerEndpoint">ServicePerEndpoint &lt;: <a href="../service/Filterable.html" name="com.twitter.finagle.service.Filterable" id="com.twitter.finagle.service.Filterable" class="extype">Filterable</a>[<span name="com.twitter.finagle.client.MethodBuilder.newServicePerEndpoint.ServicePerEndpoint" class="extype">ServicePerEndpoint</span>]</span>]</span><span class="params">(<span name="builder">builder: <a href="ServicePerEndpointBuilder.html" name="com.twitter.finagle.client.ServicePerEndpointBuilder" id="com.twitter.finagle.client.ServicePerEndpointBuilder" class="extype">ServicePerEndpointBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>, <span name="com.twitter.finagle.client.MethodBuilder.newServicePerEndpoint.ServicePerEndpoint" class="extype">ServicePerEndpoint</span>]</span>)</span><span class="result">: <span name="com.twitter.finagle.client.MethodBuilder.newServicePerEndpoint.ServicePerEndpoint" class="extype">ServicePerEndpoint</span></span></span><p class="shortcomment cmt">Create a <span name="ServicePerEndpoint" class="extype">ServicePerEndpoint</span> from the current configuration.</p></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#nonIdempotent" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="nonIdempotent:com.twitter.finagle.client.MethodBuilder[Req,Rep]" class="anchorToMember"></a><a id="nonIdempotent:MethodBuilder[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#nonIdempotent:com.twitter.finagle.client.MethodBuilder[Req,Rep]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">nonIdempotent</span><span class="result">: <a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Configure that requests are to be treated as non-idempotent.</p><div class="fullcomment"><div class="comment cmt"><p>Configure that requests are to be treated as non-idempotent. <span name="BackupRequestFilter" class="extype">BackupRequestFilter</span> is
disabled, and only those failures that are known to be safe to retry (i.e., write failures,
where the request was never sent) are retried via requeue filter; any previously configured
retries are removed.
</p></div></div></li><li class="indented0 " name="scala.AnyRef#notify" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="notify():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#notify():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">notify</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#notifyAll" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="notifyAll():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#notifyAll():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">notifyAll</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#params" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="params:com.twitter.finagle.Stack.Params" class="anchorToMember"></a><a id="params:Params" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#params:com.twitter.finagle.Stack.Params" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">val</span></span> <span class="symbol"><span class="name">params</span><span class="result">: <a href="../Stack$$Params.html" name="com.twitter.finagle.Stack.Params" id="com.twitter.finagle.Stack.Params" class="extype">Params</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a> → <a href="../Stack$$Parameterized.html" name="com.twitter.finagle.Stack.Parameterized" id="com.twitter.finagle.Stack.Parameterized" class="extype">Parameterized</a></dd></dl></div></li><li class="indented0 " name="scala.AnyRef#synchronized" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="synchronized[T0](x$1:=&gt;T0):T0" class="anchorToMember"></a><a id="synchronized[T0](=&gt;T0):T0" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#synchronized[T0](x$1:=&gt;T0):T0" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">synchronized</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="params">(<span name="arg0">arg0: =&gt; <span name="java.lang.AnyRef.synchronized.T0" class="extype">T0</span></span>)</span><span class="result">: <span name="java.lang.AnyRef.synchronized.T0" class="extype">T0</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#toString" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="toString():String" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#toString():String" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">toString</span><span class="params">()</span><span class="result">: <span name="scala.Predef.String" class="extype">String</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a> → AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#wait" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="wait():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#wait():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wait</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.InterruptedException]</span></span>)</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#wait" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="wait(x$1:Long,x$2:Int):Unit" class="anchorToMember"></a><a id="wait(Long,Int):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#wait(x$1:Long,x$2:Int):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wait</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/Long.html#scala.Long" name="scala.Long" id="scala.Long" class="extype">Long</a></span>, <span name="arg1">arg1: <a href="https://www.scala-lang.org/api/2.13.6/scala/Int.html#scala.Int" name="scala.Int" id="scala.Int" class="extype">Int</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.InterruptedException]</span></span>)</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#wait" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="wait(x$1:Long):Unit" class="anchorToMember"></a><a id="wait(Long):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#wait(x$1:Long):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wait</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.6/scala/Long.html#scala.Long" name="scala.Long" id="scala.Long" class="extype">Long</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.6/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.InterruptedException]</span></span>)</span> <span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#withParams" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="withParams(ps:com.twitter.finagle.Stack.Params):com.twitter.finagle.client.MethodBuilder[Req,Rep]" class="anchorToMember"></a><a id="withParams(Params):MethodBuilder[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#withParams(ps:com.twitter.finagle.Stack.Params):com.twitter.finagle.client.MethodBuilder[Req,Rep]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">withParams</span><span class="params">(<span name="ps">ps: <a href="../Stack$$Params.html" name="com.twitter.finagle.Stack.Params" id="com.twitter.finagle.Stack.Params" class="extype">Params</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a> → <a href="../Stack$$Parameterized.html" name="com.twitter.finagle.Stack.Parameterized" id="com.twitter.finagle.Stack.Parameterized" class="extype">Parameterized</a></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#withRetry" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="withRetry:com.twitter.finagle.client.MethodBuilderRetry[Req,Rep]" class="anchorToMember"></a><a id="withRetry:MethodBuilderRetry[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#withRetry:com.twitter.finagle.client.MethodBuilderRetry[Req,Rep]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">withRetry</span><span class="result">: <span name="com.twitter.finagle.client.MethodBuilderRetry" class="extype">MethodBuilderRetry</span>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Configure the application-level retry policy.</p><div class="fullcomment"><div class="comment cmt"><p>Configure the application-level retry policy.</p><p>Defaults to using the client's <a href="../service/index.html#ResponseClassifier=PartialFunction[com.twitter.finagle.service.ReqRep,com.twitter.finagle.service.ResponseClass]" name="com.twitter.finagle.service.ResponseClassifier" id="com.twitter.finagle.service.ResponseClassifier" class="extmbr">com.twitter.finagle.service.ResponseClassifier</a>
to retry failures
<a href="../service/ResponseClass$.html#RetryableFailure:com.twitter.finagle.service.ResponseClass.Failed" name="com.twitter.finagle.service.ResponseClass#RetryableFailure" id="com.twitter.finagle.service.ResponseClass#RetryableFailure" class="extmbr">marked as retryable</a>.</p><p>The classifier is also used to determine the logical success metrics of
the client. Logical here means after any retries are run. For example
should a request result in retryable failure on the first attempt, but
succeed upon retry, this is exposed through metrics as a success.
</p></div><dl class="attributes block"><div class="block">Example:<ol><li class="cmt"><p>Retrying on <code>Exception</code> responses:</p><pre><span class="kw">import</span> com.twitter.finagle.client.MethodBuilder
<span class="kw">import</span> com.twitter.finagle.service.{ReqRep, ResponseClass}
<span class="kw">import</span> com.twitter.util.Throw

<span class="kw">val</span> builder: MethodBuilder[<span class="std">Int</span>, <span class="std">Int</span>] = ???
builder.withRetry.forClassifier {
  <span class="kw">case</span> ReqRep(_, Throw(_)) <span class="kw">=&gt;</span> ResponseClass.RetryableFailure
}</pre></li></ol></div><dt>See also</dt><dd><span class="cmt"><p><span name="MethodBuilderRetry" class="extype">MethodBuilderRetry</span></p></span></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#withTimeout" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="withTimeout:com.twitter.finagle.client.MethodBuilderTimeout[Req,Rep]" class="anchorToMember"></a><a id="withTimeout:MethodBuilderTimeout[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#withTimeout:com.twitter.finagle.client.MethodBuilderTimeout[Req,Rep]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">withTimeout</span><span class="result">: <span name="com.twitter.finagle.client.MethodBuilderTimeout" class="extype">MethodBuilderTimeout</span>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Configure the timeouts.</p><div class="fullcomment"><div class="comment cmt"><p>Configure the timeouts.</p><p>The per-request timeout defaults to using the client's configuration for
<span name="com.twitter.finagle.service.TimeoutFilter.Param(timeout)" class="extype">com.twitter.finagle.service.TimeoutFilter.Param(timeout)</span>,
which is typically set via
<a href="../param/CommonParams.html#withRequestTimeout(timeout:com.twitter.util.tunable.Tunable[com.twitter.util.Duration]):A" name="com.twitter.finagle.param.CommonParams#withRequestTimeout" id="com.twitter.finagle.param.CommonParams#withRequestTimeout" class="extmbr">com.twitter.finagle.param.CommonParams.withRequestTimeout</a>.</p><p>The total timeout defaults to using the client's configuration for
<span name="com.twitter.finagle.service.TimeoutFilter.TotalTimeout(timeout)" class="extype">com.twitter.finagle.service.TimeoutFilter.TotalTimeout(timeout)</span>.
</p></div><dl class="attributes block"><div class="block">Examples:<ol><li class="cmt"><p>A total timeout of 200 milliseconds:</p><pre><span class="kw">import</span> com.twitter.conversions.DurationOps._
<span class="kw">import</span> com.twitter.finagle.client.MethodBuilder

<span class="kw">val</span> builder: MethodBuilder[<span class="std">Int</span>, <span class="std">Int</span>] = ???
builder.withTimeout.total(<span class="num">200.</span>milliseconds)</pre></li>, <li class="cmt"><p>A per-request timeout of 50 milliseconds:</p><pre><span class="kw">import</span> com.twitter.conversions.DurationOps._
<span class="kw">import</span> com.twitter.finagle.client.MethodBuilder

<span class="kw">val</span> builder: MethodBuilder[<span class="std">Int</span>, <span class="std">Int</span>] = ???
builder.withTimeout.perRequest(<span class="num">50.</span>milliseconds)</pre></li></ol></div><dt>See also</dt><dd><span class="cmt"><p><span name="MethodBuilderTimeout" class="extype">MethodBuilderTimeout</span></p></span></dd></dl></div></li><li class="indented0 " name="com.twitter.finagle.client.MethodBuilder#withTraceInitializer" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="withTraceInitializer(initializer:com.twitter.finagle.Filter.TypeAgnostic):com.twitter.finagle.client.MethodBuilder[Req,Rep]" class="anchorToMember"></a><a id="withTraceInitializer(TypeAgnostic):MethodBuilder[Req,Rep]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../com/twitter/finagle/client/MethodBuilder.html#withTraceInitializer(initializer:com.twitter.finagle.Filter.TypeAgnostic):com.twitter.finagle.client.MethodBuilder[Req,Rep]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">withTraceInitializer</span><span class="params">(<span name="initializer">initializer: <a href="../Filter$$TypeAgnostic.html" name="com.twitter.finagle.Filter.TypeAgnostic" id="com.twitter.finagle.Filter.TypeAgnostic" class="extype">TypeAgnostic</a></span>)</span><span class="result">: <a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]</span></span><p class="shortcomment cmt">Allow customizations for protocol-specific trace initialization.</p></li></ol></div></div><div id="inheritedMembers"><div name="com.twitter.finagle.Stack.Parameterized" class="parent"><h3>Inherited from <a href="../Stack$$Parameterized.html" name="com.twitter.finagle.Stack.Parameterized" id="com.twitter.finagle.Stack.Parameterized" class="extype">Parameterized</a>[<a href="" name="com.twitter.finagle.client.MethodBuilder" id="com.twitter.finagle.client.MethodBuilder" class="extype">MethodBuilder</a>[<span name="com.twitter.finagle.client.MethodBuilder.Req" class="extype">Req</span>, <span name="com.twitter.finagle.client.MethodBuilder.Rep" class="extype">Rep</span>]]</h3></div><div name="scala.AnyRef" class="parent"><h3>Inherited from <a href="https://www.scala-lang.org/api/2.13.6/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></h3></div><div name="scala.Any" class="parent"><h3>Inherited from <a href="https://www.scala-lang.org/api/2.13.6/scala/Any.html#scala.Any" name="scala.Any" id="scala.Any" class="extype">Any</a></h3></div></div><div id="groupedMembers"><div name="Ungrouped" class="group"><h3>Ungrouped</h3></div></div></div><div id="tooltip"></div><div id="footer"></div></body></div></div></div></body></html>
